==14750== drd, a thread error detector
==14750== Copyright (C) 2006-2020, and GNU GPL'd, by Bart Van Assche.
==14750== Using Valgrind-3.18.1 and LibVEX; rerun with -h for copyright info
==14750== Command: ./r-type_server 127.0.0.1 4000
==14750== 
==14750== Probably a race condition: condition variable 0x56c5b48 has been signaled but the associated mutex 0x56c5bc8 is not locked by the signalling thread.
==14750==    at 0x4858FEB: pthread_cond_signal_intercept (drd_pthread_intercepts.c:1190)
==14750==    by 0x4858FEB: pthread_cond_signal@* (drd_pthread_intercepts.c:1203)
==14750==    by 0x4A0BB7C: __gthread_cond_signal (gthr-default.h:859)
==14750==    by 0x4A0BB7C: notify_one (std_mutex.h:177)
==14750==    by 0x4A0BB7C: std::condition_variable::notify_one() (condition_variable.cc:47)
==14750==    by 0x41C067: RType::Server::ThreadPool::AddTask(std::function<void ()> const&) (ThreadPool.cpp:60)
==14750==    by 0x4062A1: RType::CoreServer::run() (CoreServer.cpp:63)
==14750==    by 0x406023: RType::CoreServer::CoreServer(int, char**) (CoreServer.cpp:45)
==14750==    by 0x41E591: main (main.cpp:13)
==14750== cond 0x56c5b48 was first observed at:
==14750==    at 0x48575B2: pthread_cond_wait_intercept (drd_pthread_intercepts.c:1130)
==14750==    by 0x48575B2: pthread_cond_wait@* (drd_pthread_intercepts.c:1138)
==14750==    by 0x4A0BB3F: __gthread_cond_wait (gthr-default.h:865)
==14750==    by 0x4A0BB3F: wait (std_mutex.h:155)
==14750==    by 0x4A0BB3F: std::condition_variable::wait(std::unique_lock<std::mutex>&) (condition_variable.cc:41)
==14750==    by 0x41C0E2: void std::condition_variable::wait<RType::Server::ThreadPool::ThreadMain()::{lambda()#1}>(std::unique_lock<std::mutex>&, RType::Server::ThreadPool::ThreadMain()::{lambda()#1}) (condition_variable:103)
==14750==    by 0x41BF2F: RType::Server::ThreadPool::ThreadMain() (ThreadPool.cpp:41)
==14750==    by 0x41E4E9: void std::__invoke_impl<void, void (RType::Server::ThreadPool::*)(), RType::Server::ThreadPool*>(std::__invoke_memfun_deref, void (RType::Server::ThreadPool::*&&)(), RType::Server::ThreadPool*&&) (invoke.h:74)
==14750==    by 0x41E448: std::__invoke_result<void (RType::Server::ThreadPool::*)(), RType::Server::ThreadPool*>::type std::__invoke<void (RType::Server::ThreadPool::*)(), RType::Server::ThreadPool*>(void (RType::Server::ThreadPool::*&&)(), RType::Server::ThreadPool*&&) (invoke.h:96)
==14750==    by 0x41E3B8: void std::thread::_Invoker<std::tuple<void (RType::Server::ThreadPool::*)(), RType::Server::ThreadPool*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) (std_thread.h:253)
==14750==    by 0x41E371: std::thread::_Invoker<std::tuple<void (RType::Server::ThreadPool::*)(), RType::Server::ThreadPool*> >::operator()() (std_thread.h:260)
==14750==    by 0x41E355: std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (RType::Server::ThreadPool::*)(), RType::Server::ThreadPool*> > >::_M_run() (std_thread.h:211)
==14750==    by 0x4A11CA3: execute_native_thread_routine (thread.cc:82)
==14750==    by 0x484BC5A: vgDrd_thread_wrapper (drd_pthread_intercepts.c:491)
==14750==    by 0x49202A4: start_thread (pthread_create.c:481)
==14750== mutex 0x56c5bc8 was first observed at:
==14750==    at 0x48522B8: pthread_mutex_lock_intercept (drd_pthread_intercepts.c:932)
==14750==    by 0x48522B8: pthread_mutex_lock (drd_pthread_intercepts.c:945)
==14750==    by 0x40798B: __gthread_mutex_lock(pthread_mutex_t*) (gthr-default.h:749)
==14750==    by 0x4081F1: std::mutex::lock() (std_mutex.h:100)
==14750==    by 0x40B2FA: std::unique_lock<std::mutex>::lock() (unique_lock.h:139)
==14750==    by 0x40A0DE: std::unique_lock<std::mutex>::unique_lock(std::mutex&) (unique_lock.h:69)
==14750==    by 0x41BEFA: RType::Server::ThreadPool::ThreadMain() (ThreadPool.cpp:38)
==14750==    by 0x41E4E9: void std::__invoke_impl<void, void (RType::Server::ThreadPool::*)(), RType::Server::ThreadPool*>(std::__invoke_memfun_deref, void (RType::Server::ThreadPool::*&&)(), RType::Server::ThreadPool*&&) (invoke.h:74)
==14750==    by 0x41E448: std::__invoke_result<void (RType::Server::ThreadPool::*)(), RType::Server::ThreadPool*>::type std::__invoke<void (RType::Server::ThreadPool::*)(), RType::Server::ThreadPool*>(void (RType::Server::ThreadPool::*&&)(), RType::Server::ThreadPool*&&) (invoke.h:96)
==14750==    by 0x41E3B8: void std::thread::_Invoker<std::tuple<void (RType::Server::ThreadPool::*)(), RType::Server::ThreadPool*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) (std_thread.h:253)
==14750==    by 0x41E371: std::thread::_Invoker<std::tuple<void (RType::Server::ThreadPool::*)(), RType::Server::ThreadPool*> >::operator()() (std_thread.h:260)
==14750==    by 0x41E355: std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (RType::Server::ThreadPool::*)(), RType::Server::ThreadPool*> > >::_M_run() (std_thread.h:211)
==14750==    by 0x4A11CA3: execute_native_thread_routine (thread.cc:82)
==14750== 
Team 1 is created !
==14750== Thread 2:
==14750== not a condition variable: cond 0x62ac270
==14750==    at 0x485683F: pthread_cond_destroy_intercept (drd_pthread_intercepts.c:1110)
==14750==    by 0x485683F: pthread_cond_destroy@* (drd_pthread_intercepts.c:1120)
==14750==    by 0x53AF634: wait_for_reply (xcb_in.c:520)
==14750==    by 0x53B0575: xcb_wait_for_reply64 (xcb_in.c:560)
==14750==    by 0x501F3AF: _XReply (xcb_io.c:693)
==14750==    by 0x5011C26: XQueryExtension (QuExt.c:53)
==14750==    by 0x5005B16: XInitExtension (InitExt.c:47)
==14750==    by 0x506F0B3: XkbUseExtension (XKBUse.c:740)
==14750==    by 0x5009848: XOpenDisplay (OpenDis.c:563)
==14750==    by 0x48FDF5F: ??? (in /usr/lib64/libsfml-window.so.2.5.1)
==14750==    by 0x490A90B: ??? (in /usr/lib64/libsfml-window.so.2.5.1)
==14750==    by 0x48FA606: sf::GlResource::GlResource() (in /usr/lib64/libsfml-window.so.2.5.1)
==14750==    by 0x48C2736: sf::Texture::Texture() (in /usr/lib64/libsfml-graphics.so.2.5.1)
==14750== 
==14750== not a condition variable: cond 0x62ac3f0
==14750==    at 0x485683F: pthread_cond_destroy_intercept (drd_pthread_intercepts.c:1110)
==14750==    by 0x485683F: pthread_cond_destroy@* (drd_pthread_intercepts.c:1120)
==14750==    by 0x53AF634: wait_for_reply (xcb_in.c:520)
==14750==    by 0x53B0514: xcb_wait_for_reply (xcb_in.c:546)
==14750==    by 0x53B5892: xcb_get_extension_data (xcb_ext.c:99)
==14750==    by 0x92FAA45: ??? (in /usr/lib64/libGLX_mesa.so.0.0.0)
==14750==    by 0x92EB169: ??? (in /usr/lib64/libGLX_mesa.so.0.0.0)
==14750==    by 0x92E7161: ??? (in /usr/lib64/libGLX_mesa.so.0.0.0)
==14750==    by 0x4908204: ??? (in /usr/lib64/libsfml-window.so.2.5.1)
==14750==    by 0x490A91D: ??? (in /usr/lib64/libsfml-window.so.2.5.1)
==14750==    by 0x48FA606: sf::GlResource::GlResource() (in /usr/lib64/libsfml-window.so.2.5.1)
==14750==    by 0x48C2736: sf::Texture::Texture() (in /usr/lib64/libsfml-graphics.so.2.5.1)
==14750==    by 0x43CA0E: Drawable::Drawable() (Drawable.hpp:16)
==14750== 
==14750== not a condition variable: cond 0x62ac420
==14750==    at 0x485683F: pthread_cond_destroy_intercept (drd_pthread_intercepts.c:1110)
==14750==    by 0x485683F: pthread_cond_destroy@* (drd_pthread_intercepts.c:1120)
==14750==    by 0x53AF634: wait_for_reply (xcb_in.c:520)
==14750==    by 0x53B0514: xcb_wait_for_reply (xcb_in.c:546)
==14750==    by 0x92FAAD4: ??? (in /usr/lib64/libGLX_mesa.so.0.0.0)
==14750==    by 0x92EB169: ??? (in /usr/lib64/libGLX_mesa.so.0.0.0)
==14750==    by 0x92E7161: ??? (in /usr/lib64/libGLX_mesa.so.0.0.0)
==14750==    by 0x4908204: ??? (in /usr/lib64/libsfml-window.so.2.5.1)
==14750==    by 0x490A91D: ??? (in /usr/lib64/libsfml-window.so.2.5.1)
==14750==    by 0x48FA606: sf::GlResource::GlResource() (in /usr/lib64/libsfml-window.so.2.5.1)
==14750==    by 0x48C2736: sf::Texture::Texture() (in /usr/lib64/libsfml-graphics.so.2.5.1)
==14750==    by 0x43CA0E: Drawable::Drawable() (Drawable.hpp:16)
==14750==    by 0x43BF51: Player::Player() (Player.cpp:10)
==14750== 
==14750== not a condition variable: cond 0x62abf40
==14750==    at 0x485683F: pthread_cond_destroy_intercept (drd_pthread_intercepts.c:1110)
==14750==    by 0x485683F: pthread_cond_destroy@* (drd_pthread_intercepts.c:1120)
==14750==    by 0x53AF634: wait_for_reply (xcb_in.c:520)
==14750==    by 0x53B0A1C: xcb_request_check (xcb_in.c:745)
==14750==    by 0x9305C12: ??? (in /usr/lib64/libGLX_mesa.so.0.0.0)
==14750==    by 0x930779F: ??? (in /usr/lib64/libGLX_mesa.so.0.0.0)
==14750==    by 0x95B9085: ??? (in /usr/lib64/dri/iris_dri.so)
==14750==    by 0x95BA945: ??? (in /usr/lib64/dri/iris_dri.so)
==14750==    by 0x96207FB: ??? (in /usr/lib64/dri/iris_dri.so)
==14750==    by 0x9620AD9: ??? (in /usr/lib64/dri/iris_dri.so)
==14750==    by 0x95BA450: ??? (in /usr/lib64/dri/iris_dri.so)
==14750==    by 0x9AD1859: ??? (in /usr/lib64/dri/iris_dri.so)
==14750==    by 0x92F9F89: ??? (in /usr/lib64/libGLX_mesa.so.0.0.0)
==14750== 
==14750== not a condition variable: cond 0x62abf50
==14750==    at 0x485683F: pthread_cond_destroy_intercept (drd_pthread_intercepts.c:1110)
==14750==    by 0x485683F: pthread_cond_destroy@* (drd_pthread_intercepts.c:1120)
==14750==    by 0x53AF634: wait_for_reply (xcb_in.c:520)
==14750==    by 0x53B0514: xcb_wait_for_reply (xcb_in.c:546)
==14750==    by 0x9305C22: ??? (in /usr/lib64/libGLX_mesa.so.0.0.0)
==14750==    by 0x930779F: ??? (in /usr/lib64/libGLX_mesa.so.0.0.0)
==14750==    by 0x95B9085: ??? (in /usr/lib64/dri/iris_dri.so)
==14750==    by 0x95BA945: ??? (in /usr/lib64/dri/iris_dri.so)
==14750==    by 0x96207FB: ??? (in /usr/lib64/dri/iris_dri.so)
==14750==    by 0x9620AD9: ??? (in /usr/lib64/dri/iris_dri.so)
==14750==    by 0x95BA450: ??? (in /usr/lib64/dri/iris_dri.so)
==14750==    by 0x9AD1859: ??? (in /usr/lib64/dri/iris_dri.so)
==14750==    by 0x92F9F89: ??? (in /usr/lib64/libGLX_mesa.so.0.0.0)
==14750== 
Add player 0 To the tab 
Add new bydos
Add new bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
==14750== Thread 14:
==14750== Conflicting store by thread 14 at 0x0599e6a8 size 8
==14750==    at 0x42005F: std::_Hashtable<unsigned short, std::pair<unsigned short const, std::shared_ptr<IEntity> >, std::allocator<std::pair<unsigned short const, std::shared_ptr<IEntity> > >, std::__detail::_Select1st, std::equal_to<unsigned short>, std::hash<unsigned short>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, false, true> >::_M_insert_bucket_begin(unsigned long, std::__detail::_Hash_node<std::pair<unsigned short const, std::shared_ptr<IEntity> >, false>*) (hashtable.h:1910)
==14750==    by 0x41FAF9: std::_Hashtable<unsigned short, std::pair<unsigned short const, std::shared_ptr<IEntity> >, std::allocator<std::pair<unsigned short const, std::shared_ptr<IEntity> > >, std::__detail::_Select1st, std::equal_to<unsigned short>, std::hash<unsigned short>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, false, true> >::_M_insert_unique_node(unsigned long, unsigned long, std::__detail::_Hash_node<std::pair<unsigned short const, std::shared_ptr<IEntity> >, false>*, unsigned long) (hashtable.h:2028)
==14750==    by 0x41F5C8: std::pair<std::__detail::_Node_iterator<std::pair<unsigned short const, std::shared_ptr<IEntity> >, false, false>, bool> std::_Hashtable<unsigned short, std::pair<unsigned short const, std::shared_ptr<IEntity> >, std::allocator<std::pair<unsigned short const, std::shared_ptr<IEntity> > >, std::__detail::_Select1st, std::equal_to<unsigned short>, std::hash<unsigned short>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, false, true> >::_M_emplace<std::pair<unsigned short const, std::shared_ptr<IEntity> > >(std::integral_constant<bool, true>, std::pair<unsigned short const, std::shared_ptr<IEntity> >&&) (hashtable.h:1975)
==14750==    by 0x41F1EF: std::pair<std::__detail::_Node_iterator<std::pair<unsigned short const, std::shared_ptr<IEntity> >, false, false>, bool> std::__detail::_Insert<unsigned short, std::pair<unsigned short const, std::shared_ptr<IEntity> >, std::allocator<std::pair<unsigned short const, std::shared_ptr<IEntity> > >, std::__detail::_Select1st, std::equal_to<unsigned short>, std::hash<unsigned short>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, false, true>, false>::insert<std::pair<unsigned short const, std::shared_ptr<IEntity> >, void>(std::pair<unsigned short const, std::shared_ptr<IEntity> >&&) (hashtable_policy.h:1036)
==14750==    by 0x41F03D: std::unordered_map<unsigned short, std::shared_ptr<IEntity>, std::hash<unsigned short>, std::equal_to<unsigned short>, std::allocator<std::pair<unsigned short const, std::shared_ptr<IEntity> > > >::insert(std::pair<unsigned short const, std::shared_ptr<IEntity> >&&) (unordered_map.h:558)
==14750==    by 0x41E88B: Core::addEntity(std::shared_ptr<IEntity> const&, unsigned short) (Core.cpp:15)
==14750==    by 0x43362A: BydosSystem::createShots(Bydos&, Player const&, Core&) (BydosSystem.cpp:27)
==14750==    by 0x4423DC: SystemVisitor::visitBydos(Bydos&, Core&) (SystemVisitor.hpp:31)
==14750==    by 0x43AA62: Bydos::accept(IVisitor&, Core&) (Bydos.cpp:31)
==14750==    by 0x441204: RType::RTypeGameLoop::runAfterUpdate(std::queue<std::pair<unsigned short, RType::Utils::MessageParsed_s>, std::deque<std::pair<unsigned short, RType::Utils::MessageParsed_s>, std::allocator<std::pair<unsigned short, RType::Utils::MessageParsed_s> > > >) (RTypeGameLoop.cpp:45)
==14750==    by 0x43E1B8: RType::GameLoop::updateGameLoop(std::queue<std::pair<unsigned short, RType::Utils::MessageParsed_s>, std::deque<std::pair<unsigned short, RType::Utils::MessageParsed_s>, std::allocator<std::pair<unsigned short, RType::Utils::MessageParsed_s> > > >) (GameLoop.cpp:33)
==14750==    by 0x40F1AE: RType::Server::Room::runRoom() (Room.cpp:153)
==14750== Address 0x599e6a8 is at offset 8 from 0x599e6a0. Allocation context:
==14750==    at 0x4846335: operator new(unsigned long) (vg_replace_malloc.c:422)
==14750==    by 0x420B27: __gnu_cxx::new_allocator<std::__detail::_Hash_node_base*>::allocate(unsigned long, void const*) (new_allocator.h:127)
==14750==    by 0x420A4A: std::allocator_traits<std::allocator<std::__detail::_Hash_node_base*> >::allocate(std::allocator<std::__detail::_Hash_node_base*>&, unsigned long) (alloc_traits.h:464)
==14750==    by 0x4208DD: std::__detail::_Hashtable_alloc<std::allocator<std::__detail::_Hash_node<std::pair<unsigned short const, std::shared_ptr<IEntity> >, false> > >::_M_allocate_buckets(unsigned long) (hashtable_policy.h:1927)
==14750==    by 0x420768: std::_Hashtable<unsigned short, std::pair<unsigned short const, std::shared_ptr<IEntity> >, std::allocator<std::pair<unsigned short const, std::shared_ptr<IEntity> > >, std::__detail::_Select1st, std::equal_to<unsigned short>, std::hash<unsigned short>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, false, true> >::_M_allocate_buckets(unsigned long) (hashtable.h:440)
==14750==    by 0x42041E: std::_Hashtable<unsigned short, std::pair<unsigned short const, std::shared_ptr<IEntity> >, std::allocator<std::pair<unsigned short const, std::shared_ptr<IEntity> > >, std::__detail::_Select1st, std::equal_to<unsigned short>, std::hash<unsigned short>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, false, true> >::_M_rehash_aux(unsigned long, std::integral_constant<bool, true>) (hashtable.h:2382)
==14750==    by 0x41FF25: std::_Hashtable<unsigned short, std::pair<unsigned short const, std::shared_ptr<IEntity> >, std::allocator<std::pair<unsigned short const, std::shared_ptr<IEntity> > >, std::__detail::_Select1st, std::equal_to<unsigned short>, std::hash<unsigned short>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, false, true> >::_M_rehash(unsigned long, unsigned long const&) (hashtable.h:2361)
==14750==    by 0x41FAB0: std::_Hashtable<unsigned short, std::pair<unsigned short const, std::shared_ptr<IEntity> >, std::allocator<std::pair<unsigned short const, std::shared_ptr<IEntity> > >, std::__detail::_Select1st, std::equal_to<unsigned short>, std::hash<unsigned short>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, false, true> >::_M_insert_unique_node(unsigned long, unsigned long, std::__detail::_Hash_node<std::pair<unsigned short const, std::shared_ptr<IEntity> >, false>*, unsigned long) (hashtable.h:2021)
==14750==    by 0x41F5C8: std::pair<std::__detail::_Node_iterator<std::pair<unsigned short const, std::shared_ptr<IEntity> >, false, false>, bool> std::_Hashtable<unsigned short, std::pair<unsigned short const, std::shared_ptr<IEntity> >, std::allocator<std::pair<unsigned short const, std::shared_ptr<IEntity> > >, std::__detail::_Select1st, std::equal_to<unsigned short>, std::hash<unsigned short>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, false, true> >::_M_emplace<std::pair<unsigned short const, std::shared_ptr<IEntity> > >(std::integral_constant<bool, true>, std::pair<unsigned short const, std::shared_ptr<IEntity> >&&) (hashtable.h:1975)
==14750==    by 0x41F1EF: std::pair<std::__detail::_Node_iterator<std::pair<unsigned short const, std::shared_ptr<IEntity> >, false, false>, bool> std::__detail::_Insert<unsigned short, std::pair<unsigned short const, std::shared_ptr<IEntity> >, std::allocator<std::pair<unsigned short const, std::shared_ptr<IEntity> > >, std::__detail::_Select1st, std::equal_to<unsigned short>, std::hash<unsigned short>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, false, true>, false>::insert<std::pair<unsigned short const, std::shared_ptr<IEntity> >, void>(std::pair<unsigned short const, std::shared_ptr<IEntity> >&&) (hashtable_policy.h:1036)
==14750==    by 0x41F03D: std::unordered_map<unsigned short, std::shared_ptr<IEntity>, std::hash<unsigned short>, std::equal_to<unsigned short>, std::allocator<std::pair<unsigned short const, std::shared_ptr<IEntity> > > >::insert(std::pair<unsigned short const, std::shared_ptr<IEntity> >&&) (unordered_map.h:558)
==14750==    by 0x41E88B: Core::addEntity(std::shared_ptr<IEntity> const&, unsigned short) (Core.cpp:15)
==14750== Other segment start (thread 4)
==14750==    at 0x485237C: pthread_mutex_lock_intercept (drd_pthread_intercepts.c:935)
==14750==    by 0x485237C: pthread_mutex_lock (drd_pthread_intercepts.c:945)
==14750==    by 0x40798B: __gthread_mutex_lock(pthread_mutex_t*) (gthr-default.h:749)
==14750==    by 0x4081F1: std::mutex::lock() (std_mutex.h:100)
==14750==    by 0x40B2FA: std::unique_lock<std::mutex>::lock() (unique_lock.h:139)
==14750==    by 0x40A0DE: std::unique_lock<std::mutex>::unique_lock(std::mutex&) (unique_lock.h:69)
==14750==    by 0x40FB73: RType::Server::Room::sendEntityType(RType::Utils::MessageParsed_s const&) (Room.cpp:270)
==14750==    by 0x40ED46: RType::Server::Room::sendMessageToRoom(RType::Utils::MessageParsed_s const&) (Room.cpp:109)
==14750==    by 0x406676: RType::CoreServer::threadMethod(RType::Utils::MessageParsed_s const&) (CoreServer.cpp:89)
==14750==    by 0x406197: RType::CoreServer::run()::{lambda()#1}::operator()() const (CoreServer.cpp:63)
==14750==    by 0x407653: void std::__invoke_impl<void, RType::CoreServer::run()::{lambda()#1}&>(std::__invoke_other, RType::CoreServer::run()::{lambda()#1}&) (invoke.h:61)
==14750==    by 0x407549: std::enable_if<is_invocable_r_v<void, RType::CoreServer::run()::{lambda()#1}&>, void>::type std::__invoke_r<void, RType::CoreServer::run()::{lambda()#1}&>(RType::CoreServer::run()::{lambda()#1}&) (invoke.h:111)
==14750==    by 0x4073E6: std::_Function_handler<void (), RType::CoreServer::run()::{lambda()#1}>::_M_invoke(std::_Any_data const&) (std_function.h:290)
==14750== Other segment end (thread 4)
==14750==    at 0x4855018: pthread_mutex_unlock_intercept (drd_pthread_intercepts.c:1025)
==14750==    by 0x4855018: pthread_mutex_unlock (drd_pthread_intercepts.c:1038)
==14750==    by 0x4079BA: __gthread_mutex_unlock(pthread_mutex_t*) (gthr-default.h:779)
==14750==    by 0x40821F: std::mutex::unlock() (std_mutex.h:118)
==14750==    by 0x40B345: std::unique_lock<std::mutex>::unlock() (unique_lock.h:195)
==14750==    by 0x40A10D: std::unique_lock<std::mutex>::~unique_lock() (unique_lock.h:104)
==14750==    by 0x40FC7F: RType::Server::Room::sendEntityType(RType::Utils::MessageParsed_s const&) (Room.cpp:277)
==14750==    by 0x40ED46: RType::Server::Room::sendMessageToRoom(RType::Utils::MessageParsed_s const&) (Room.cpp:109)
==14750==    by 0x406676: RType::CoreServer::threadMethod(RType::Utils::MessageParsed_s const&) (CoreServer.cpp:89)
==14750==    by 0x406197: RType::CoreServer::run()::{lambda()#1}::operator()() const (CoreServer.cpp:63)
==14750==    by 0x407653: void std::__invoke_impl<void, RType::CoreServer::run()::{lambda()#1}&>(std::__invoke_other, RType::CoreServer::run()::{lambda()#1}&) (invoke.h:61)
==14750==    by 0x407549: std::enable_if<is_invocable_r_v<void, RType::CoreServer::run()::{lambda()#1}&>, void>::type std::__invoke_r<void, RType::CoreServer::run()::{lambda()#1}&>(RType::CoreServer::run()::{lambda()#1}&) (invoke.h:111)
==14750==    by 0x4073E6: std::_Function_handler<void (), RType::CoreServer::run()::{lambda()#1}>::_M_invoke(std::_Any_data const&) (std_function.h:290)
==14750== 
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
==14750== Conflicting store by thread 14 at 0x056c6c58 size 8
==14750==    at 0x420001: std::_Hashtable<unsigned short, std::pair<unsigned short const, std::shared_ptr<IEntity> >, std::allocator<std::pair<unsigned short const, std::shared_ptr<IEntity> > >, std::__detail::_Select1st, std::equal_to<unsigned short>, std::hash<unsigned short>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, false, true> >::_M_insert_bucket_begin(unsigned long, std::__detail::_Hash_node<std::pair<unsigned short const, std::shared_ptr<IEntity> >, false>*) (hashtable.h:1903)
==14750==    by 0x41FAF9: std::_Hashtable<unsigned short, std::pair<unsigned short const, std::shared_ptr<IEntity> >, std::allocator<std::pair<unsigned short const, std::shared_ptr<IEntity> > >, std::__detail::_Select1st, std::equal_to<unsigned short>, std::hash<unsigned short>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, false, true> >::_M_insert_unique_node(unsigned long, unsigned long, std::__detail::_Hash_node<std::pair<unsigned short const, std::shared_ptr<IEntity> >, false>*, unsigned long) (hashtable.h:2028)
==14750==    by 0x41F5C8: std::pair<std::__detail::_Node_iterator<std::pair<unsigned short const, std::shared_ptr<IEntity> >, false, false>, bool> std::_Hashtable<unsigned short, std::pair<unsigned short const, std::shared_ptr<IEntity> >, std::allocator<std::pair<unsigned short const, std::shared_ptr<IEntity> > >, std::__detail::_Select1st, std::equal_to<unsigned short>, std::hash<unsigned short>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, false, true> >::_M_emplace<std::pair<unsigned short const, std::shared_ptr<IEntity> > >(std::integral_constant<bool, true>, std::pair<unsigned short const, std::shared_ptr<IEntity> >&&) (hashtable.h:1975)
==14750==    by 0x41F1EF: std::pair<std::__detail::_Node_iterator<std::pair<unsigned short const, std::shared_ptr<IEntity> >, false, false>, bool> std::__detail::_Insert<unsigned short, std::pair<unsigned short const, std::shared_ptr<IEntity> >, std::allocator<std::pair<unsigned short const, std::shared_ptr<IEntity> > >, std::__detail::_Select1st, std::equal_to<unsigned short>, std::hash<unsigned short>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, false, true>, false>::insert<std::pair<unsigned short const, std::shared_ptr<IEntity> >, void>(std::pair<unsigned short const, std::shared_ptr<IEntity> >&&) (hashtable_policy.h:1036)
==14750==    by 0x41F03D: std::unordered_map<unsigned short, std::shared_ptr<IEntity>, std::hash<unsigned short>, std::equal_to<unsigned short>, std::allocator<std::pair<unsigned short const, std::shared_ptr<IEntity> > > >::insert(std::pair<unsigned short const, std::shared_ptr<IEntity> >&&) (unordered_map.h:558)
==14750==    by 0x41E88B: Core::addEntity(std::shared_ptr<IEntity> const&, unsigned short) (Core.cpp:15)
==14750==    by 0x43362A: BydosSystem::createShots(Bydos&, Player const&, Core&) (BydosSystem.cpp:27)
==14750==    by 0x4423DC: SystemVisitor::visitBydos(Bydos&, Core&) (SystemVisitor.hpp:31)
==14750==    by 0x43AA62: Bydos::accept(IVisitor&, Core&) (Bydos.cpp:31)
==14750==    by 0x441204: RType::RTypeGameLoop::runAfterUpdate(std::queue<std::pair<unsigned short, RType::Utils::MessageParsed_s>, std::deque<std::pair<unsigned short, RType::Utils::MessageParsed_s>, std::allocator<std::pair<unsigned short, RType::Utils::MessageParsed_s> > > >) (RTypeGameLoop.cpp:45)
==14750==    by 0x43E1B8: RType::GameLoop::updateGameLoop(std::queue<std::pair<unsigned short, RType::Utils::MessageParsed_s>, std::deque<std::pair<unsigned short, RType::Utils::MessageParsed_s>, std::allocator<std::pair<unsigned short, RType::Utils::MessageParsed_s> > > >) (GameLoop.cpp:33)
==14750==    by 0x40F1AE: RType::Server::Room::runRoom() (Room.cpp:153)
==14750== Address 0x56c6c58 is at offset 184 from 0x56c6ba0. Allocation context:
==14750==    at 0x4846335: operator new(unsigned long) (vg_replace_malloc.c:422)
==14750==    by 0x40A2B3: std::_MakeUniq<RType::Server::Room>::__single_object std::make_unique<RType::Server::Room, unsigned char const&, RType::Server::basesValues, std::shared_ptr<RType::Utils::SocketHandler> >(unsigned char const&, RType::Server::basesValues&&, std::shared_ptr<RType::Utils::SocketHandler>&&) (unique_ptr.h:962)
==14750==    by 0x4069C7: RType::CoreServer::newRoomCreated(RType::Utils::MessageParsed_s const&) (CoreServer.cpp:115)
==14750==    by 0x40657D: RType::CoreServer::threadMethod(RType::Utils::MessageParsed_s const&) (CoreServer.cpp:82)
==14750==    by 0x406197: RType::CoreServer::run()::{lambda()#1}::operator()() const (CoreServer.cpp:63)
==14750==    by 0x407653: void std::__invoke_impl<void, RType::CoreServer::run()::{lambda()#1}&>(std::__invoke_other, RType::CoreServer::run()::{lambda()#1}&) (invoke.h:61)
==14750==    by 0x407549: std::enable_if<is_invocable_r_v<void, RType::CoreServer::run()::{lambda()#1}&>, void>::type std::__invoke_r<void, RType::CoreServer::run()::{lambda()#1}&>(RType::CoreServer::run()::{lambda()#1}&) (invoke.h:111)
==14750==    by 0x4073E6: std::_Function_handler<void (), RType::CoreServer::run()::{lambda()#1}>::_M_invoke(std::_Any_data const&) (std_function.h:290)
==14750==    by 0x41C5BF: std::function<void ()>::operator()() const (std_function.h:590)
==14750==    by 0x41BFB2: RType::Server::ThreadPool::ThreadMain() (ThreadPool.cpp:51)
==14750==    by 0x41E4E9: void std::__invoke_impl<void, void (RType::Server::ThreadPool::*)(), RType::Server::ThreadPool*>(std::__invoke_memfun_deref, void (RType::Server::ThreadPool::*&&)(), RType::Server::ThreadPool*&&) (invoke.h:74)
==14750==    by 0x41E448: std::__invoke_result<void (RType::Server::ThreadPool::*)(), RType::Server::ThreadPool*>::type std::__invoke<void (RType::Server::ThreadPool::*)(), RType::Server::ThreadPool*>(void (RType::Server::ThreadPool::*&&)(), RType::Server::ThreadPool*&&) (invoke.h:96)
==14750== Other segment start (thread 8)
==14750==    at 0x4857675: pthread_cond_wait_intercept (drd_pthread_intercepts.c:1133)
==14750==    by 0x4857675: pthread_cond_wait@* (drd_pthread_intercepts.c:1138)
==14750==    by 0x4A0BB3F: __gthread_cond_wait (gthr-default.h:865)
==14750==    by 0x4A0BB3F: wait (std_mutex.h:155)
==14750==    by 0x4A0BB3F: std::condition_variable::wait(std::unique_lock<std::mutex>&) (condition_variable.cc:41)
==14750==    by 0x41C0E2: void std::condition_variable::wait<RType::Server::ThreadPool::ThreadMain()::{lambda()#1}>(std::unique_lock<std::mutex>&, RType::Server::ThreadPool::ThreadMain()::{lambda()#1}) (condition_variable:103)
==14750==    by 0x41BF2F: RType::Server::ThreadPool::ThreadMain() (ThreadPool.cpp:41)
==14750==    by 0x41E4E9: void std::__invoke_impl<void, void (RType::Server::ThreadPool::*)(), RType::Server::ThreadPool*>(std::__invoke_memfun_deref, void (RType::Server::ThreadPool::*&&)(), RType::Server::ThreadPool*&&) (invoke.h:74)
==14750==    by 0x41E448: std::__invoke_result<void (RType::Server::ThreadPool::*)(), RType::Server::ThreadPool*>::type std::__invoke<void (RType::Server::ThreadPool::*)(), RType::Server::ThreadPool*>(void (RType::Server::ThreadPool::*&&)(), RType::Server::ThreadPool*&&) (invoke.h:96)
==14750==    by 0x41E3B8: void std::thread::_Invoker<std::tuple<void (RType::Server::ThreadPool::*)(), RType::Server::ThreadPool*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) (std_thread.h:253)
==14750==    by 0x41E371: std::thread::_Invoker<std::tuple<void (RType::Server::ThreadPool::*)(), RType::Server::ThreadPool*> >::operator()() (std_thread.h:260)
==14750==    by 0x41E355: std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (RType::Server::ThreadPool::*)(), RType::Server::ThreadPool*> > >::_M_run() (std_thread.h:211)
==14750==    by 0x4A11CA3: execute_native_thread_routine (thread.cc:82)
==14750==    by 0x484BC5A: vgDrd_thread_wrapper (drd_pthread_intercepts.c:491)
==14750==    by 0x49202A4: start_thread (pthread_create.c:481)
==14750== Other segment end (thread 8)
==14750==    at 0x485237C: pthread_mutex_lock_intercept (drd_pthread_intercepts.c:935)
==14750==    by 0x485237C: pthread_mutex_lock (drd_pthread_intercepts.c:945)
==14750==    by 0x40798B: __gthread_mutex_lock(pthread_mutex_t*) (gthr-default.h:749)
==14750==    by 0x4081F1: std::mutex::lock() (std_mutex.h:100)
==14750==    by 0x40B2FA: std::unique_lock<std::mutex>::lock() (unique_lock.h:139)
==14750==    by 0x40A0DE: std::unique_lock<std::mutex>::unique_lock(std::mutex&) (unique_lock.h:69)
==14750==    by 0x421968: RType::Utils::SocketHandler::send(RType::Utils::MessageParsed_s const&) (SocketHandler.cpp:50)
==14750==    by 0x40FC51: RType::Server::Room::sendEntityType(RType::Utils::MessageParsed_s const&) (Room.cpp:276)
==14750==    by 0x40ED46: RType::Server::Room::sendMessageToRoom(RType::Utils::MessageParsed_s const&) (Room.cpp:109)
==14750==    by 0x406676: RType::CoreServer::threadMethod(RType::Utils::MessageParsed_s const&) (CoreServer.cpp:89)
==14750==    by 0x406197: RType::CoreServer::run()::{lambda()#1}::operator()() const (CoreServer.cpp:63)
==14750==    by 0x407653: void std::__invoke_impl<void, RType::CoreServer::run()::{lambda()#1}&>(std::__invoke_other, RType::CoreServer::run()::{lambda()#1}&) (invoke.h:61)
==14750==    by 0x407549: std::enable_if<is_invocable_r_v<void, RType::CoreServer::run()::{lambda()#1}&>, void>::type std::__invoke_r<void, RType::CoreServer::run()::{lambda()#1}&>(RType::CoreServer::run()::{lambda()#1}&) (invoke.h:111)
==14750== Other segment start (thread 8)
==14750==    at 0x4857675: pthread_cond_wait_intercept (drd_pthread_intercepts.c:1133)
==14750==    by 0x4857675: pthread_cond_wait@* (drd_pthread_intercepts.c:1138)
==14750==    by 0x4A0BB3F: __gthread_cond_wait (gthr-default.h:865)
==14750==    by 0x4A0BB3F: wait (std_mutex.h:155)
==14750==    by 0x4A0BB3F: std::condition_variable::wait(std::unique_lock<std::mutex>&) (condition_variable.cc:41)
==14750==    by 0x41C0E2: void std::condition_variable::wait<RType::Server::ThreadPool::ThreadMain()::{lambda()#1}>(std::unique_lock<std::mutex>&, RType::Server::ThreadPool::ThreadMain()::{lambda()#1}) (condition_variable:103)
==14750==    by 0x41BF2F: RType::Server::ThreadPool::ThreadMain() (ThreadPool.cpp:41)
==14750==    by 0x41E4E9: void std::__invoke_impl<void, void (RType::Server::ThreadPool::*)(), RType::Server::ThreadPool*>(std::__invoke_memfun_deref, void (RType::Server::ThreadPool::*&&)(), RType::Server::ThreadPool*&&) (invoke.h:74)
==14750==    by 0x41E448: std::__invoke_result<void (RType::Server::ThreadPool::*)(), RType::Server::ThreadPool*>::type std::__invoke<void (RType::Server::ThreadPool::*)(), RType::Server::ThreadPool*>(void (RType::Server::ThreadPool::*&&)(), RType::Server::ThreadPool*&&) (invoke.h:96)
==14750==    by 0x41E3B8: void std::thread::_Invoker<std::tuple<void (RType::Server::ThreadPool::*)(), RType::Server::ThreadPool*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) (std_thread.h:253)
==14750==    by 0x41E371: std::thread::_Invoker<std::tuple<void (RType::Server::ThreadPool::*)(), RType::Server::ThreadPool*> >::operator()() (std_thread.h:260)
==14750==    by 0x41E355: std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (RType::Server::ThreadPool::*)(), RType::Server::ThreadPool*> > >::_M_run() (std_thread.h:211)
==14750==    by 0x4A11CA3: execute_native_thread_routine (thread.cc:82)
==14750==    by 0x484BC5A: vgDrd_thread_wrapper (drd_pthread_intercepts.c:491)
==14750==    by 0x49202A4: start_thread (pthread_create.c:481)
==14750== Other segment end (thread 8)
==14750==    at 0x485237C: pthread_mutex_lock_intercept (drd_pthread_intercepts.c:935)
==14750==    by 0x485237C: pthread_mutex_lock (drd_pthread_intercepts.c:945)
==14750==    by 0x40798B: __gthread_mutex_lock(pthread_mutex_t*) (gthr-default.h:749)
==14750==    by 0x4081F1: std::mutex::lock() (std_mutex.h:100)
==14750==    by 0x40B2FA: std::unique_lock<std::mutex>::lock() (unique_lock.h:139)
==14750==    by 0x40A0DE: std::unique_lock<std::mutex>::unique_lock(std::mutex&) (unique_lock.h:69)
==14750==    by 0x421968: RType::Utils::SocketHandler::send(RType::Utils::MessageParsed_s const&) (SocketHandler.cpp:50)
==14750==    by 0x40FC51: RType::Server::Room::sendEntityType(RType::Utils::MessageParsed_s const&) (Room.cpp:276)
==14750==    by 0x40ED46: RType::Server::Room::sendMessageToRoom(RType::Utils::MessageParsed_s const&) (Room.cpp:109)
==14750==    by 0x406676: RType::CoreServer::threadMethod(RType::Utils::MessageParsed_s const&) (CoreServer.cpp:89)
==14750==    by 0x406197: RType::CoreServer::run()::{lambda()#1}::operator()() const (CoreServer.cpp:63)
==14750==    by 0x407653: void std::__invoke_impl<void, RType::CoreServer::run()::{lambda()#1}&>(std::__invoke_other, RType::CoreServer::run()::{lambda()#1}&) (invoke.h:61)
==14750==    by 0x407549: std::enable_if<is_invocable_r_v<void, RType::CoreServer::run()::{lambda()#1}&>, void>::type std::__invoke_r<void, RType::CoreServer::run()::{lambda()#1}&>(RType::CoreServer::run()::{lambda()#1}&) (invoke.h:111)
==14750== 
==14750== Conflicting store by thread 14 at 0x0599e6a8 size 8
==14750==    at 0x420042: std::_Hashtable<unsigned short, std::pair<unsigned short const, std::shared_ptr<IEntity> >, std::allocator<std::pair<unsigned short const, std::shared_ptr<IEntity> > >, std::__detail::_Select1st, std::equal_to<unsigned short>, std::hash<unsigned short>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, false, true> >::_M_insert_bucket_begin(unsigned long, std::__detail::_Hash_node<std::pair<unsigned short const, std::shared_ptr<IEntity> >, false>*) (hashtable.h:1908)
==14750==    by 0x41FAF9: std::_Hashtable<unsigned short, std::pair<unsigned short const, std::shared_ptr<IEntity> >, std::allocator<std::pair<unsigned short const, std::shared_ptr<IEntity> > >, std::__detail::_Select1st, std::equal_to<unsigned short>, std::hash<unsigned short>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, false, true> >::_M_insert_unique_node(unsigned long, unsigned long, std::__detail::_Hash_node<std::pair<unsigned short const, std::shared_ptr<IEntity> >, false>*, unsigned long) (hashtable.h:2028)
==14750==    by 0x41F5C8: std::pair<std::__detail::_Node_iterator<std::pair<unsigned short const, std::shared_ptr<IEntity> >, false, false>, bool> std::_Hashtable<unsigned short, std::pair<unsigned short const, std::shared_ptr<IEntity> >, std::allocator<std::pair<unsigned short const, std::shared_ptr<IEntity> > >, std::__detail::_Select1st, std::equal_to<unsigned short>, std::hash<unsigned short>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, false, true> >::_M_emplace<std::pair<unsigned short const, std::shared_ptr<IEntity> > >(std::integral_constant<bool, true>, std::pair<unsigned short const, std::shared_ptr<IEntity> >&&) (hashtable.h:1975)
==14750==    by 0x41F1EF: std::pair<std::__detail::_Node_iterator<std::pair<unsigned short const, std::shared_ptr<IEntity> >, false, false>, bool> std::__detail::_Insert<unsigned short, std::pair<unsigned short const, std::shared_ptr<IEntity> >, std::allocator<std::pair<unsigned short const, std::shared_ptr<IEntity> > >, std::__detail::_Select1st, std::equal_to<unsigned short>, std::hash<unsigned short>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, false, true>, false>::insert<std::pair<unsigned short const, std::shared_ptr<IEntity> >, void>(std::pair<unsigned short const, std::shared_ptr<IEntity> >&&) (hashtable_policy.h:1036)
==14750==    by 0x41F03D: std::unordered_map<unsigned short, std::shared_ptr<IEntity>, std::hash<unsigned short>, std::equal_to<unsigned short>, std::allocator<std::pair<unsigned short const, std::shared_ptr<IEntity> > > >::insert(std::pair<unsigned short const, std::shared_ptr<IEntity> >&&) (unordered_map.h:558)
==14750==    by 0x41E88B: Core::addEntity(std::shared_ptr<IEntity> const&, unsigned short) (Core.cpp:15)
==14750==    by 0x43362A: BydosSystem::createShots(Bydos&, Player const&, Core&) (BydosSystem.cpp:27)
==14750==    by 0x4423DC: SystemVisitor::visitBydos(Bydos&, Core&) (SystemVisitor.hpp:31)
==14750==    by 0x43AA62: Bydos::accept(IVisitor&, Core&) (Bydos.cpp:31)
==14750==    by 0x441204: RType::RTypeGameLoop::runAfterUpdate(std::queue<std::pair<unsigned short, RType::Utils::MessageParsed_s>, std::deque<std::pair<unsigned short, RType::Utils::MessageParsed_s>, std::allocator<std::pair<unsigned short, RType::Utils::MessageParsed_s> > > >) (RTypeGameLoop.cpp:45)
==14750==    by 0x43E1B8: RType::GameLoop::updateGameLoop(std::queue<std::pair<unsigned short, RType::Utils::MessageParsed_s>, std::deque<std::pair<unsigned short, RType::Utils::MessageParsed_s>, std::allocator<std::pair<unsigned short, RType::Utils::MessageParsed_s> > > >) (GameLoop.cpp:33)
==14750==    by 0x40F1AE: RType::Server::Room::runRoom() (Room.cpp:153)
==14750== Address 0x599e6a8 is at offset 8 from 0x599e6a0. Allocation context:
==14750==    at 0x4846335: operator new(unsigned long) (vg_replace_malloc.c:422)
==14750==    by 0x420B27: __gnu_cxx::new_allocator<std::__detail::_Hash_node_base*>::allocate(unsigned long, void const*) (new_allocator.h:127)
==14750==    by 0x420A4A: std::allocator_traits<std::allocator<std::__detail::_Hash_node_base*> >::allocate(std::allocator<std::__detail::_Hash_node_base*>&, unsigned long) (alloc_traits.h:464)
==14750==    by 0x4208DD: std::__detail::_Hashtable_alloc<std::allocator<std::__detail::_Hash_node<std::pair<unsigned short const, std::shared_ptr<IEntity> >, false> > >::_M_allocate_buckets(unsigned long) (hashtable_policy.h:1927)
==14750==    by 0x420768: std::_Hashtable<unsigned short, std::pair<unsigned short const, std::shared_ptr<IEntity> >, std::allocator<std::pair<unsigned short const, std::shared_ptr<IEntity> > >, std::__detail::_Select1st, std::equal_to<unsigned short>, std::hash<unsigned short>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, false, true> >::_M_allocate_buckets(unsigned long) (hashtable.h:440)
==14750==    by 0x42041E: std::_Hashtable<unsigned short, std::pair<unsigned short const, std::shared_ptr<IEntity> >, std::allocator<std::pair<unsigned short const, std::shared_ptr<IEntity> > >, std::__detail::_Select1st, std::equal_to<unsigned short>, std::hash<unsigned short>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, false, true> >::_M_rehash_aux(unsigned long, std::integral_constant<bool, true>) (hashtable.h:2382)
==14750==    by 0x41FF25: std::_Hashtable<unsigned short, std::pair<unsigned short const, std::shared_ptr<IEntity> >, std::allocator<std::pair<unsigned short const, std::shared_ptr<IEntity> > >, std::__detail::_Select1st, std::equal_to<unsigned short>, std::hash<unsigned short>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, false, true> >::_M_rehash(unsigned long, unsigned long const&) (hashtable.h:2361)
==14750==    by 0x41FAB0: std::_Hashtable<unsigned short, std::pair<unsigned short const, std::shared_ptr<IEntity> >, std::allocator<std::pair<unsigned short const, std::shared_ptr<IEntity> > >, std::__detail::_Select1st, std::equal_to<unsigned short>, std::hash<unsigned short>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, false, true> >::_M_insert_unique_node(unsigned long, unsigned long, std::__detail::_Hash_node<std::pair<unsigned short const, std::shared_ptr<IEntity> >, false>*, unsigned long) (hashtable.h:2021)
==14750==    by 0x41F5C8: std::pair<std::__detail::_Node_iterator<std::pair<unsigned short const, std::shared_ptr<IEntity> >, false, false>, bool> std::_Hashtable<unsigned short, std::pair<unsigned short const, std::shared_ptr<IEntity> >, std::allocator<std::pair<unsigned short const, std::shared_ptr<IEntity> > >, std::__detail::_Select1st, std::equal_to<unsigned short>, std::hash<unsigned short>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, false, true> >::_M_emplace<std::pair<unsigned short const, std::shared_ptr<IEntity> > >(std::integral_constant<bool, true>, std::pair<unsigned short const, std::shared_ptr<IEntity> >&&) (hashtable.h:1975)
==14750==    by 0x41F1EF: std::pair<std::__detail::_Node_iterator<std::pair<unsigned short const, std::shared_ptr<IEntity> >, false, false>, bool> std::__detail::_Insert<unsigned short, std::pair<unsigned short const, std::shared_ptr<IEntity> >, std::allocator<std::pair<unsigned short const, std::shared_ptr<IEntity> > >, std::__detail::_Select1st, std::equal_to<unsigned short>, std::hash<unsigned short>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, false, true>, false>::insert<std::pair<unsigned short const, std::shared_ptr<IEntity> >, void>(std::pair<unsigned short const, std::shared_ptr<IEntity> >&&) (hashtable_policy.h:1036)
==14750==    by 0x41F03D: std::unordered_map<unsigned short, std::shared_ptr<IEntity>, std::hash<unsigned short>, std::equal_to<unsigned short>, std::allocator<std::pair<unsigned short const, std::shared_ptr<IEntity> > > >::insert(std::pair<unsigned short const, std::shared_ptr<IEntity> >&&) (unordered_map.h:558)
==14750==    by 0x41E88B: Core::addEntity(std::shared_ptr<IEntity> const&, unsigned short) (Core.cpp:15)
==14750== Other segment start (thread 4)
==14750==    at 0x4857675: pthread_cond_wait_intercept (drd_pthread_intercepts.c:1133)
==14750==    by 0x4857675: pthread_cond_wait@* (drd_pthread_intercepts.c:1138)
==14750==    by 0x4A0BB3F: __gthread_cond_wait (gthr-default.h:865)
==14750==    by 0x4A0BB3F: wait (std_mutex.h:155)
==14750==    by 0x4A0BB3F: std::condition_variable::wait(std::unique_lock<std::mutex>&) (condition_variable.cc:41)
==14750==    by 0x41C0E2: void std::condition_variable::wait<RType::Server::ThreadPool::ThreadMain()::{lambda()#1}>(std::unique_lock<std::mutex>&, RType::Server::ThreadPool::ThreadMain()::{lambda()#1}) (condition_variable:103)
==14750==    by 0x41BF2F: RType::Server::ThreadPool::ThreadMain() (ThreadPool.cpp:41)
==14750==    by 0x41E4E9: void std::__invoke_impl<void, void (RType::Server::ThreadPool::*)(), RType::Server::ThreadPool*>(std::__invoke_memfun_deref, void (RType::Server::ThreadPool::*&&)(), RType::Server::ThreadPool*&&) (invoke.h:74)
==14750==    by 0x41E448: std::__invoke_result<void (RType::Server::ThreadPool::*)(), RType::Server::ThreadPool*>::type std::__invoke<void (RType::Server::ThreadPool::*)(), RType::Server::ThreadPool*>(void (RType::Server::ThreadPool::*&&)(), RType::Server::ThreadPool*&&) (invoke.h:96)
==14750==    by 0x41E3B8: void std::thread::_Invoker<std::tuple<void (RType::Server::ThreadPool::*)(), RType::Server::ThreadPool*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) (std_thread.h:253)
==14750==    by 0x41E371: std::thread::_Invoker<std::tuple<void (RType::Server::ThreadPool::*)(), RType::Server::ThreadPool*> >::operator()() (std_thread.h:260)
==14750==    by 0x41E355: std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (RType::Server::ThreadPool::*)(), RType::Server::ThreadPool*> > >::_M_run() (std_thread.h:211)
==14750==    by 0x4A11CA3: execute_native_thread_routine (thread.cc:82)
==14750==    by 0x484BC5A: vgDrd_thread_wrapper (drd_pthread_intercepts.c:491)
==14750==    by 0x49202A4: start_thread (pthread_create.c:481)
==14750== Other segment end (thread 4)
==14750==    at 0x4855018: pthread_mutex_unlock_intercept (drd_pthread_intercepts.c:1025)
==14750==    by 0x4855018: pthread_mutex_unlock (drd_pthread_intercepts.c:1038)
==14750==    by 0x4079BA: __gthread_mutex_unlock(pthread_mutex_t*) (gthr-default.h:779)
==14750==    by 0x40821F: std::mutex::unlock() (std_mutex.h:118)
==14750==    by 0x40B345: std::unique_lock<std::mutex>::unlock() (unique_lock.h:195)
==14750==    by 0x40A10D: std::unique_lock<std::mutex>::~unique_lock() (unique_lock.h:104)
==14750==    by 0x40FC7F: RType::Server::Room::sendEntityType(RType::Utils::MessageParsed_s const&) (Room.cpp:277)
==14750==    by 0x40ED46: RType::Server::Room::sendMessageToRoom(RType::Utils::MessageParsed_s const&) (Room.cpp:109)
==14750==    by 0x406676: RType::CoreServer::threadMethod(RType::Utils::MessageParsed_s const&) (CoreServer.cpp:89)
==14750==    by 0x406197: RType::CoreServer::run()::{lambda()#1}::operator()() const (CoreServer.cpp:63)
==14750==    by 0x407653: void std::__invoke_impl<void, RType::CoreServer::run()::{lambda()#1}&>(std::__invoke_other, RType::CoreServer::run()::{lambda()#1}&) (invoke.h:61)
==14750==    by 0x407549: std::enable_if<is_invocable_r_v<void, RType::CoreServer::run()::{lambda()#1}&>, void>::type std::__invoke_r<void, RType::CoreServer::run()::{lambda()#1}&>(RType::CoreServer::run()::{lambda()#1}&) (invoke.h:111)
==14750==    by 0x4073E6: std::_Function_handler<void (), RType::CoreServer::run()::{lambda()#1}>::_M_invoke(std::_Any_data const&) (std_function.h:290)
==14750== Other segment start (thread 4)
==14750==    at 0x4857675: pthread_cond_wait_intercept (drd_pthread_intercepts.c:1133)
==14750==    by 0x4857675: pthread_cond_wait@* (drd_pthread_intercepts.c:1138)
==14750==    by 0x4A0BB3F: __gthread_cond_wait (gthr-default.h:865)
==14750==    by 0x4A0BB3F: wait (std_mutex.h:155)
==14750==    by 0x4A0BB3F: std::condition_variable::wait(std::unique_lock<std::mutex>&) (condition_variable.cc:41)
==14750==    by 0x41C0E2: void std::condition_variable::wait<RType::Server::ThreadPool::ThreadMain()::{lambda()#1}>(std::unique_lock<std::mutex>&, RType::Server::ThreadPool::ThreadMain()::{lambda()#1}) (condition_variable:103)
==14750==    by 0x41BF2F: RType::Server::ThreadPool::ThreadMain() (ThreadPool.cpp:41)
==14750==    by 0x41E4E9: void std::__invoke_impl<void, void (RType::Server::ThreadPool::*)(), RType::Server::ThreadPool*>(std::__invoke_memfun_deref, void (RType::Server::ThreadPool::*&&)(), RType::Server::ThreadPool*&&) (invoke.h:74)
==14750==    by 0x41E448: std::__invoke_result<void (RType::Server::ThreadPool::*)(), RType::Server::ThreadPool*>::type std::__invoke<void (RType::Server::ThreadPool::*)(), RType::Server::ThreadPool*>(void (RType::Server::ThreadPool::*&&)(), RType::Server::ThreadPool*&&) (invoke.h:96)
==14750==    by 0x41E3B8: void std::thread::_Invoker<std::tuple<void (RType::Server::ThreadPool::*)(), RType::Server::ThreadPool*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) (std_thread.h:253)
==14750==    by 0x41E371: std::thread::_Invoker<std::tuple<void (RType::Server::ThreadPool::*)(), RType::Server::ThreadPool*> >::operator()() (std_thread.h:260)
==14750==    by 0x41E355: std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (RType::Server::ThreadPool::*)(), RType::Server::ThreadPool*> > >::_M_run() (std_thread.h:211)
==14750==    by 0x4A11CA3: execute_native_thread_routine (thread.cc:82)
==14750==    by 0x484BC5A: vgDrd_thread_wrapper (drd_pthread_intercepts.c:491)
==14750==    by 0x49202A4: start_thread (pthread_create.c:481)
==14750== Other segment end (thread 4)
==14750==    at 0x4855018: pthread_mutex_unlock_intercept (drd_pthread_intercepts.c:1025)
==14750==    by 0x4855018: pthread_mutex_unlock (drd_pthread_intercepts.c:1038)
==14750==    by 0x4079BA: __gthread_mutex_unlock(pthread_mutex_t*) (gthr-default.h:779)
==14750==    by 0x40821F: std::mutex::unlock() (std_mutex.h:118)
==14750==    by 0x40B345: std::unique_lock<std::mutex>::unlock() (unique_lock.h:195)
==14750==    by 0x40A10D: std::unique_lock<std::mutex>::~unique_lock() (unique_lock.h:104)
==14750==    by 0x40FC7F: RType::Server::Room::sendEntityType(RType::Utils::MessageParsed_s const&) (Room.cpp:277)
==14750==    by 0x40ED46: RType::Server::Room::sendMessageToRoom(RType::Utils::MessageParsed_s const&) (Room.cpp:109)
==14750==    by 0x406676: RType::CoreServer::threadMethod(RType::Utils::MessageParsed_s const&) (CoreServer.cpp:89)
==14750==    by 0x406197: RType::CoreServer::run()::{lambda()#1}::operator()() const (CoreServer.cpp:63)
==14750==    by 0x407653: void std::__invoke_impl<void, RType::CoreServer::run()::{lambda()#1}&>(std::__invoke_other, RType::CoreServer::run()::{lambda()#1}&) (invoke.h:61)
==14750==    by 0x407549: std::enable_if<is_invocable_r_v<void, RType::CoreServer::run()::{lambda()#1}&>, void>::type std::__invoke_r<void, RType::CoreServer::run()::{lambda()#1}&>(RType::CoreServer::run()::{lambda()#1}&) (invoke.h:111)
==14750==    by 0x4073E6: std::_Function_handler<void (), RType::CoreServer::run()::{lambda()#1}>::_M_invoke(std::_Any_data const&) (std_function.h:290)
==14750== Other segment start (thread 8)
==14750==    at 0x4857675: pthread_cond_wait_intercept (drd_pthread_intercepts.c:1133)
==14750==    by 0x4857675: pthread_cond_wait@* (drd_pthread_intercepts.c:1138)
==14750==    by 0x4A0BB3F: __gthread_cond_wait (gthr-default.h:865)
==14750==    by 0x4A0BB3F: wait (std_mutex.h:155)
==14750==    by 0x4A0BB3F: std::condition_variable::wait(std::unique_lock<std::mutex>&) (condition_variable.cc:41)
==14750==    by 0x41C0E2: void std::condition_variable::wait<RType::Server::ThreadPool::ThreadMain()::{lambda()#1}>(std::unique_lock<std::mutex>&, RType::Server::ThreadPool::ThreadMain()::{lambda()#1}) (condition_variable:103)
==14750==    by 0x41BF2F: RType::Server::ThreadPool::ThreadMain() (ThreadPool.cpp:41)
==14750==    by 0x41E4E9: void std::__invoke_impl<void, void (RType::Server::ThreadPool::*)(), RType::Server::ThreadPool*>(std::__invoke_memfun_deref, void (RType::Server::ThreadPool::*&&)(), RType::Server::ThreadPool*&&) (invoke.h:74)
==14750==    by 0x41E448: std::__invoke_result<void (RType::Server::ThreadPool::*)(), RType::Server::ThreadPool*>::type std::__invoke<void (RType::Server::ThreadPool::*)(), RType::Server::ThreadPool*>(void (RType::Server::ThreadPool::*&&)(), RType::Server::ThreadPool*&&) (invoke.h:96)
==14750==    by 0x41E3B8: void std::thread::_Invoker<std::tuple<void (RType::Server::ThreadPool::*)(), RType::Server::ThreadPool*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) (std_thread.h:253)
==14750==    by 0x41E371: std::thread::_Invoker<std::tuple<void (RType::Server::ThreadPool::*)(), RType::Server::ThreadPool*> >::operator()() (std_thread.h:260)
==14750==    by 0x41E355: std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (RType::Server::ThreadPool::*)(), RType::Server::ThreadPool*> > >::_M_run() (std_thread.h:211)
==14750==    by 0x4A11CA3: execute_native_thread_routine (thread.cc:82)
==14750==    by 0x484BC5A: vgDrd_thread_wrapper (drd_pthread_intercepts.c:491)
==14750==    by 0x49202A4: start_thread (pthread_create.c:481)
==14750== Other segment end (thread 8)
==14750==    at 0x485237C: pthread_mutex_lock_intercept (drd_pthread_intercepts.c:935)
==14750==    by 0x485237C: pthread_mutex_lock (drd_pthread_intercepts.c:945)
==14750==    by 0x40798B: __gthread_mutex_lock(pthread_mutex_t*) (gthr-default.h:749)
==14750==    by 0x4081F1: std::mutex::lock() (std_mutex.h:100)
==14750==    by 0x40B2FA: std::unique_lock<std::mutex>::lock() (unique_lock.h:139)
==14750==    by 0x40A0DE: std::unique_lock<std::mutex>::unique_lock(std::mutex&) (unique_lock.h:69)
==14750==    by 0x421968: RType::Utils::SocketHandler::send(RType::Utils::MessageParsed_s const&) (SocketHandler.cpp:50)
==14750==    by 0x40FC51: RType::Server::Room::sendEntityType(RType::Utils::MessageParsed_s const&) (Room.cpp:276)
==14750==    by 0x40ED46: RType::Server::Room::sendMessageToRoom(RType::Utils::MessageParsed_s const&) (Room.cpp:109)
==14750==    by 0x406676: RType::CoreServer::threadMethod(RType::Utils::MessageParsed_s const&) (CoreServer.cpp:89)
==14750==    by 0x406197: RType::CoreServer::run()::{lambda()#1}::operator()() const (CoreServer.cpp:63)
==14750==    by 0x407653: void std::__invoke_impl<void, RType::CoreServer::run()::{lambda()#1}&>(std::__invoke_other, RType::CoreServer::run()::{lambda()#1}&) (invoke.h:61)
==14750==    by 0x407549: std::enable_if<is_invocable_r_v<void, RType::CoreServer::run()::{lambda()#1}&>, void>::type std::__invoke_r<void, RType::CoreServer::run()::{lambda()#1}&>(RType::CoreServer::run()::{lambda()#1}&) (invoke.h:111)
==14750== Other segment start (thread 8)
==14750==    at 0x4857675: pthread_cond_wait_intercept (drd_pthread_intercepts.c:1133)
==14750==    by 0x4857675: pthread_cond_wait@* (drd_pthread_intercepts.c:1138)
==14750==    by 0x4A0BB3F: __gthread_cond_wait (gthr-default.h:865)
==14750==    by 0x4A0BB3F: wait (std_mutex.h:155)
==14750==    by 0x4A0BB3F: std::condition_variable::wait(std::unique_lock<std::mutex>&) (condition_variable.cc:41)
==14750==    by 0x41C0E2: void std::condition_variable::wait<RType::Server::ThreadPool::ThreadMain()::{lambda()#1}>(std::unique_lock<std::mutex>&, RType::Server::ThreadPool::ThreadMain()::{lambda()#1}) (condition_variable:103)
==14750==    by 0x41BF2F: RType::Server::ThreadPool::ThreadMain() (ThreadPool.cpp:41)
==14750==    by 0x41E4E9: void std::__invoke_impl<void, void (RType::Server::ThreadPool::*)(), RType::Server::ThreadPool*>(std::__invoke_memfun_deref, void (RType::Server::ThreadPool::*&&)(), RType::Server::ThreadPool*&&) (invoke.h:74)
==14750==    by 0x41E448: std::__invoke_result<void (RType::Server::ThreadPool::*)(), RType::Server::ThreadPool*>::type std::__invoke<void (RType::Server::ThreadPool::*)(), RType::Server::ThreadPool*>(void (RType::Server::ThreadPool::*&&)(), RType::Server::ThreadPool*&&) (invoke.h:96)
==14750==    by 0x41E3B8: void std::thread::_Invoker<std::tuple<void (RType::Server::ThreadPool::*)(), RType::Server::ThreadPool*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) (std_thread.h:253)
==14750==    by 0x41E371: std::thread::_Invoker<std::tuple<void (RType::Server::ThreadPool::*)(), RType::Server::ThreadPool*> >::operator()() (std_thread.h:260)
==14750==    by 0x41E355: std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (RType::Server::ThreadPool::*)(), RType::Server::ThreadPool*> > >::_M_run() (std_thread.h:211)
==14750==    by 0x4A11CA3: execute_native_thread_routine (thread.cc:82)
==14750==    by 0x484BC5A: vgDrd_thread_wrapper (drd_pthread_intercepts.c:491)
==14750==    by 0x49202A4: start_thread (pthread_create.c:481)
==14750== Other segment end (thread 8)
==14750==    at 0x485237C: pthread_mutex_lock_intercept (drd_pthread_intercepts.c:935)
==14750==    by 0x485237C: pthread_mutex_lock (drd_pthread_intercepts.c:945)
==14750==    by 0x40798B: __gthread_mutex_lock(pthread_mutex_t*) (gthr-default.h:749)
==14750==    by 0x4081F1: std::mutex::lock() (std_mutex.h:100)
==14750==    by 0x40B2FA: std::unique_lock<std::mutex>::lock() (unique_lock.h:139)
==14750==    by 0x40A0DE: std::unique_lock<std::mutex>::unique_lock(std::mutex&) (unique_lock.h:69)
==14750==    by 0x421968: RType::Utils::SocketHandler::send(RType::Utils::MessageParsed_s const&) (SocketHandler.cpp:50)
==14750==    by 0x40FC51: RType::Server::Room::sendEntityType(RType::Utils::MessageParsed_s const&) (Room.cpp:276)
==14750==    by 0x40ED46: RType::Server::Room::sendMessageToRoom(RType::Utils::MessageParsed_s const&) (Room.cpp:109)
==14750==    by 0x406676: RType::CoreServer::threadMethod(RType::Utils::MessageParsed_s const&) (CoreServer.cpp:89)
==14750==    by 0x406197: RType::CoreServer::run()::{lambda()#1}::operator()() const (CoreServer.cpp:63)
==14750==    by 0x407653: void std::__invoke_impl<void, RType::CoreServer::run()::{lambda()#1}&>(std::__invoke_other, RType::CoreServer::run()::{lambda()#1}&) (invoke.h:61)
==14750==    by 0x407549: std::enable_if<is_invocable_r_v<void, RType::CoreServer::run()::{lambda()#1}&>, void>::type std::__invoke_r<void, RType::CoreServer::run()::{lambda()#1}&>(RType::CoreServer::run()::{lambda()#1}&) (invoke.h:111)
==14750== 
Entity not not well positionned
Delete a bydos
==14750== Conflicting store by thread 14 at 0x056e5850 size 2
==14750==    at 0x486BAF3: memmove (vg_replace_strmem.c:1382)
==14750==    by 0x440B1A: unsigned short* std::__copy_move<true, true, std::random_access_iterator_tag>::__copy_m<unsigned short>(unsigned short const*, unsigned short const*, unsigned short*) (stl_algobase.h:431)
==14750==    by 0x44076C: unsigned short* std::__copy_move_a2<true, unsigned short*, unsigned short*>(unsigned short*, unsigned short*, unsigned short*) (stl_algobase.h:495)
==14750==    by 0x4401DA: unsigned short* std::__copy_move_a1<true, unsigned short*, unsigned short*>(unsigned short*, unsigned short*, unsigned short*) (stl_algobase.h:522)
==14750==    by 0x43FC44: __gnu_cxx::__normal_iterator<unsigned short*, std::vector<unsigned short, std::allocator<unsigned short> > > std::__copy_move_a<true, __gnu_cxx::__normal_iterator<unsigned short*, std::vector<unsigned short, std::allocator<unsigned short> > >, __gnu_cxx::__normal_iterator<unsigned short*, std::vector<unsigned short, std::allocator<unsigned short> > > >(__gnu_cxx::__normal_iterator<unsigned short*, std::vector<unsigned short, std::allocator<unsigned short> > >, __gnu_cxx::__normal_iterator<unsigned short*, std::vector<unsigned short, std::allocator<unsigned short> > >, __gnu_cxx::__normal_iterator<unsigned short*, std::vector<unsigned short, std::allocator<unsigned short> > >) (stl_algobase.h:529)
==14750==    by 0x43F767: __gnu_cxx::__normal_iterator<unsigned short*, std::vector<unsigned short, std::allocator<unsigned short> > > std::move<__gnu_cxx::__normal_iterator<unsigned short*, std::vector<unsigned short, std::allocator<unsigned short> > >, __gnu_cxx::__normal_iterator<unsigned short*, std::vector<unsigned short, std::allocator<unsigned short> > > >(__gnu_cxx::__normal_iterator<unsigned short*, std::vector<unsigned short, std::allocator<unsigned short> > >, __gnu_cxx::__normal_iterator<unsigned short*, std::vector<unsigned short, std::allocator<unsigned short> > >, __gnu_cxx::__normal_iterator<unsigned short*, std::vector<unsigned short, std::allocator<unsigned short> > >) (stl_algobase.h:652)
==14750==    by 0x43F09F: std::vector<unsigned short, std::allocator<unsigned short> >::_M_erase(__gnu_cxx::__normal_iterator<unsigned short*, std::vector<unsigned short, std::allocator<unsigned short> > >) (vector.tcc:175)
==14750==    by 0x43E9F9: std::vector<unsigned short, std::allocator<unsigned short> >::erase(__gnu_cxx::__normal_iterator<unsigned short const*, std::vector<unsigned short, std::allocator<unsigned short> > >) (stl_vector.h:1431)
==14750==    by 0x441974: RType::RTypeGameLoop::handleBydos(std::queue<RType::Utils::MessageParsed_s, std::deque<RType::Utils::MessageParsed_s, std::allocator<RType::Utils::MessageParsed_s> > >&) (RTypeGameLoop.cpp:105)
==14750==    by 0x441172: RType::RTypeGameLoop::runAfterUpdate(std::queue<std::pair<unsigned short, RType::Utils::MessageParsed_s>, std::deque<std::pair<unsigned short, RType::Utils::MessageParsed_s>, std::allocator<std::pair<unsigned short, RType::Utils::MessageParsed_s> > > >) (RTypeGameLoop.cpp:43)
==14750==    by 0x43E1B8: RType::GameLoop::updateGameLoop(std::queue<std::pair<unsigned short, RType::Utils::MessageParsed_s>, std::deque<std::pair<unsigned short, RType::Utils::MessageParsed_s>, std::allocator<std::pair<unsigned short, RType::Utils::MessageParsed_s> > > >) (GameLoop.cpp:33)
==14750==    by 0x40F1AE: RType::Server::Room::runRoom() (Room.cpp:153)
==14750== Address 0x56e5850 is at offset 0 from 0x56e5850. Allocation context:
==14750==    at 0x4846335: operator new(unsigned long) (vg_replace_malloc.c:422)
==14750==    by 0x41A895: __gnu_cxx::new_allocator<unsigned short>::allocate(unsigned long, void const*) (new_allocator.h:127)
==14750==    by 0x4198A4: std::allocator_traits<std::allocator<unsigned short> >::allocate(std::allocator<unsigned short>&, unsigned long) (alloc_traits.h:464)
==14750==    by 0x43F67F: std::_Vector_base<unsigned short, std::allocator<unsigned short> >::_M_allocate(unsigned long) (stl_vector.h:346)
==14750==    by 0x43EE73: void std::vector<unsigned short, std::allocator<unsigned short> >::_M_realloc_insert<unsigned short const&>(__gnu_cxx::__normal_iterator<unsigned short*, std::vector<unsigned short, std::allocator<unsigned short> > >, unsigned short const&) (vector.tcc:440)
==14750==    by 0x43E963: std::vector<unsigned short, std::allocator<unsigned short> >::push_back(unsigned short const&) (stl_vector.h:1198)
==14750==    by 0x441A69: RType::RTypeGameLoop::handleBydos(std::queue<RType::Utils::MessageParsed_s, std::deque<RType::Utils::MessageParsed_s, std::allocator<RType::Utils::MessageParsed_s> > >&) (RTypeGameLoop.cpp:112)
==14750==    by 0x441172: RType::RTypeGameLoop::runAfterUpdate(std::queue<std::pair<unsigned short, RType::Utils::MessageParsed_s>, std::deque<std::pair<unsigned short, RType::Utils::MessageParsed_s>, std::allocator<std::pair<unsigned short, RType::Utils::MessageParsed_s> > > >) (RTypeGameLoop.cpp:43)
==14750==    by 0x43E1B8: RType::GameLoop::updateGameLoop(std::queue<std::pair<unsigned short, RType::Utils::MessageParsed_s>, std::deque<std::pair<unsigned short, RType::Utils::MessageParsed_s>, std::allocator<std::pair<unsigned short, RType::Utils::MessageParsed_s> > > >) (GameLoop.cpp:33)
==14750==    by 0x40F1AE: RType::Server::Room::runRoom() (Room.cpp:153)
==14750==    by 0x41BBF5: void std::__invoke_impl<void, void (RType::Server::Room::*)(), RType::Server::Room*>(std::__invoke_memfun_deref, void (RType::Server::Room::*&&)(), RType::Server::Room*&&) (invoke.h:74)
==14750==    by 0x41BB54: std::__invoke_result<void (RType::Server::Room::*)(), RType::Server::Room*>::type std::__invoke<void (RType::Server::Room::*)(), RType::Server::Room*>(void (RType::Server::Room::*&&)(), RType::Server::Room*&&) (invoke.h:96)
==14750== Other segment start (thread 5)
==14750==    at 0x485237C: pthread_mutex_lock_intercept (drd_pthread_intercepts.c:935)
==14750==    by 0x485237C: pthread_mutex_lock (drd_pthread_intercepts.c:945)
==14750==    by 0x40798B: __gthread_mutex_lock(pthread_mutex_t*) (gthr-default.h:749)
==14750==    by 0x4081F1: std::mutex::lock() (std_mutex.h:100)
==14750==    by 0x40B2FA: std::unique_lock<std::mutex>::lock() (unique_lock.h:139)
==14750==    by 0x40A0DE: std::unique_lock<std::mutex>::unique_lock(std::mutex&) (unique_lock.h:69)
==14750==    by 0x40FB73: RType::Server::Room::sendEntityType(RType::Utils::MessageParsed_s const&) (Room.cpp:270)
==14750==    by 0x40ED46: RType::Server::Room::sendMessageToRoom(RType::Utils::MessageParsed_s const&) (Room.cpp:109)
==14750==    by 0x406676: RType::CoreServer::threadMethod(RType::Utils::MessageParsed_s const&) (CoreServer.cpp:89)
==14750==    by 0x406197: RType::CoreServer::run()::{lambda()#1}::operator()() const (CoreServer.cpp:63)
==14750==    by 0x407653: void std::__invoke_impl<void, RType::CoreServer::run()::{lambda()#1}&>(std::__invoke_other, RType::CoreServer::run()::{lambda()#1}&) (invoke.h:61)
==14750==    by 0x407549: std::enable_if<is_invocable_r_v<void, RType::CoreServer::run()::{lambda()#1}&>, void>::type std::__invoke_r<void, RType::CoreServer::run()::{lambda()#1}&>(RType::CoreServer::run()::{lambda()#1}&) (invoke.h:111)
==14750==    by 0x4073E6: std::_Function_handler<void (), RType::CoreServer::run()::{lambda()#1}>::_M_invoke(std::_Any_data const&) (std_function.h:290)
==14750== Other segment end (thread 5)
==14750==    at 0x485237C: pthread_mutex_lock_intercept (drd_pthread_intercepts.c:935)
==14750==    by 0x485237C: pthread_mutex_lock (drd_pthread_intercepts.c:945)
==14750==    by 0x40798B: __gthread_mutex_lock(pthread_mutex_t*) (gthr-default.h:749)
==14750==    by 0x4081F1: std::mutex::lock() (std_mutex.h:100)
==14750==    by 0x40B2FA: std::unique_lock<std::mutex>::lock() (unique_lock.h:139)
==14750==    by 0x40A0DE: std::unique_lock<std::mutex>::unique_lock(std::mutex&) (unique_lock.h:69)
==14750==    by 0x421968: RType::Utils::SocketHandler::send(RType::Utils::MessageParsed_s const&) (SocketHandler.cpp:50)
==14750==    by 0x40FC51: RType::Server::Room::sendEntityType(RType::Utils::MessageParsed_s const&) (Room.cpp:276)
==14750==    by 0x40ED46: RType::Server::Room::sendMessageToRoom(RType::Utils::MessageParsed_s const&) (Room.cpp:109)
==14750==    by 0x406676: RType::CoreServer::threadMethod(RType::Utils::MessageParsed_s const&) (CoreServer.cpp:89)
==14750==    by 0x406197: RType::CoreServer::run()::{lambda()#1}::operator()() const (CoreServer.cpp:63)
==14750==    by 0x407653: void std::__invoke_impl<void, RType::CoreServer::run()::{lambda()#1}&>(std::__invoke_other, RType::CoreServer::run()::{lambda()#1}&) (invoke.h:61)
==14750==    by 0x407549: std::enable_if<is_invocable_r_v<void, RType::CoreServer::run()::{lambda()#1}&>, void>::type std::__invoke_r<void, RType::CoreServer::run()::{lambda()#1}&>(RType::CoreServer::run()::{lambda()#1}&) (invoke.h:111)
==14750== 
==14750== Conflicting store by thread 14 at 0x056c7890 size 8
==14750==    at 0x43F0B0: std::vector<unsigned short, std::allocator<unsigned short> >::_M_erase(__gnu_cxx::__normal_iterator<unsigned short*, std::vector<unsigned short, std::allocator<unsigned short> > >) (vector.tcc:176)
==14750==    by 0x43E9F9: std::vector<unsigned short, std::allocator<unsigned short> >::erase(__gnu_cxx::__normal_iterator<unsigned short const*, std::vector<unsigned short, std::allocator<unsigned short> > >) (stl_vector.h:1431)
==14750==    by 0x441974: RType::RTypeGameLoop::handleBydos(std::queue<RType::Utils::MessageParsed_s, std::deque<RType::Utils::MessageParsed_s, std::allocator<RType::Utils::MessageParsed_s> > >&) (RTypeGameLoop.cpp:105)
==14750==    by 0x441172: RType::RTypeGameLoop::runAfterUpdate(std::queue<std::pair<unsigned short, RType::Utils::MessageParsed_s>, std::deque<std::pair<unsigned short, RType::Utils::MessageParsed_s>, std::allocator<std::pair<unsigned short, RType::Utils::MessageParsed_s> > > >) (RTypeGameLoop.cpp:43)
==14750==    by 0x43E1B8: RType::GameLoop::updateGameLoop(std::queue<std::pair<unsigned short, RType::Utils::MessageParsed_s>, std::deque<std::pair<unsigned short, RType::Utils::MessageParsed_s>, std::allocator<std::pair<unsigned short, RType::Utils::MessageParsed_s> > > >) (GameLoop.cpp:33)
==14750==    by 0x40F1AE: RType::Server::Room::runRoom() (Room.cpp:153)
==14750==    by 0x41BBF5: void std::__invoke_impl<void, void (RType::Server::Room::*)(), RType::Server::Room*>(std::__invoke_memfun_deref, void (RType::Server::Room::*&&)(), RType::Server::Room*&&) (invoke.h:74)
==14750==    by 0x41BB54: std::__invoke_result<void (RType::Server::Room::*)(), RType::Server::Room*>::type std::__invoke<void (RType::Server::Room::*)(), RType::Server::Room*>(void (RType::Server::Room::*&&)(), RType::Server::Room*&&) (invoke.h:96)
==14750==    by 0x41BAC4: void std::thread::_Invoker<std::tuple<void (RType::Server::Room::*)(), RType::Server::Room*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) (std_thread.h:253)
==14750==    by 0x41BA4F: std::thread::_Invoker<std::tuple<void (RType::Server::Room::*)(), RType::Server::Room*> >::operator()() (std_thread.h:260)
==14750==    by 0x41B9F3: std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (RType::Server::Room::*)(), RType::Server::Room*> > >::_M_run() (std_thread.h:211)
==14750==    by 0x4A11CA3: execute_native_thread_routine (thread.cc:82)
==14750== Address 0x56c7890 is at offset 656 from 0x56c7600. Allocation context:
==14750==    at 0x4846335: operator new(unsigned long) (vg_replace_malloc.c:422)
==14750==    by 0x41137D: std::_MakeUniq<RType::RTypeGameLoop>::__single_object std::make_unique<RType::RTypeGameLoop, Core&>(Core&) (unique_ptr.h:962)
==14750==    by 0x40E1C6: RType::Server::Room::Room(unsigned char, unsigned char, std::shared_ptr<RType::Utils::SocketHandler>) (Room.cpp:22)
==14750==    by 0x40A2C7: std::_MakeUniq<RType::Server::Room>::__single_object std::make_unique<RType::Server::Room, unsigned char const&, RType::Server::basesValues, std::shared_ptr<RType::Utils::SocketHandler> >(unsigned char const&, RType::Server::basesValues&&, std::shared_ptr<RType::Utils::SocketHandler>&&) (unique_ptr.h:962)
==14750==    by 0x4069C7: RType::CoreServer::newRoomCreated(RType::Utils::MessageParsed_s const&) (CoreServer.cpp:115)
==14750==    by 0x40657D: RType::CoreServer::threadMethod(RType::Utils::MessageParsed_s const&) (CoreServer.cpp:82)
==14750==    by 0x406197: RType::CoreServer::run()::{lambda()#1}::operator()() const (CoreServer.cpp:63)
==14750==    by 0x407653: void std::__invoke_impl<void, RType::CoreServer::run()::{lambda()#1}&>(std::__invoke_other, RType::CoreServer::run()::{lambda()#1}&) (invoke.h:61)
==14750==    by 0x407549: std::enable_if<is_invocable_r_v<void, RType::CoreServer::run()::{lambda()#1}&>, void>::type std::__invoke_r<void, RType::CoreServer::run()::{lambda()#1}&>(RType::CoreServer::run()::{lambda()#1}&) (invoke.h:111)
==14750==    by 0x4073E6: std::_Function_handler<void (), RType::CoreServer::run()::{lambda()#1}>::_M_invoke(std::_Any_data const&) (std_function.h:290)
==14750==    by 0x41C5BF: std::function<void ()>::operator()() const (std_function.h:590)
==14750==    by 0x41BFB2: RType::Server::ThreadPool::ThreadMain() (ThreadPool.cpp:51)
==14750== Other segment start (thread 5)
==14750==    at 0x485237C: pthread_mutex_lock_intercept (drd_pthread_intercepts.c:935)
==14750==    by 0x485237C: pthread_mutex_lock (drd_pthread_intercepts.c:945)
==14750==    by 0x40798B: __gthread_mutex_lock(pthread_mutex_t*) (gthr-default.h:749)
==14750==    by 0x4081F1: std::mutex::lock() (std_mutex.h:100)
==14750==    by 0x40B2FA: std::unique_lock<std::mutex>::lock() (unique_lock.h:139)
==14750==    by 0x40A0DE: std::unique_lock<std::mutex>::unique_lock(std::mutex&) (unique_lock.h:69)
==14750==    by 0x40FB73: RType::Server::Room::sendEntityType(RType::Utils::MessageParsed_s const&) (Room.cpp:270)
==14750==    by 0x40ED46: RType::Server::Room::sendMessageToRoom(RType::Utils::MessageParsed_s const&) (Room.cpp:109)
==14750==    by 0x406676: RType::CoreServer::threadMethod(RType::Utils::MessageParsed_s const&) (CoreServer.cpp:89)
==14750==    by 0x406197: RType::CoreServer::run()::{lambda()#1}::operator()() const (CoreServer.cpp:63)
==14750==    by 0x407653: void std::__invoke_impl<void, RType::CoreServer::run()::{lambda()#1}&>(std::__invoke_other, RType::CoreServer::run()::{lambda()#1}&) (invoke.h:61)
==14750==    by 0x407549: std::enable_if<is_invocable_r_v<void, RType::CoreServer::run()::{lambda()#1}&>, void>::type std::__invoke_r<void, RType::CoreServer::run()::{lambda()#1}&>(RType::CoreServer::run()::{lambda()#1}&) (invoke.h:111)
==14750==    by 0x4073E6: std::_Function_handler<void (), RType::CoreServer::run()::{lambda()#1}>::_M_invoke(std::_Any_data const&) (std_function.h:290)
==14750== Other segment end (thread 5)
==14750==    at 0x485237C: pthread_mutex_lock_intercept (drd_pthread_intercepts.c:935)
==14750==    by 0x485237C: pthread_mutex_lock (drd_pthread_intercepts.c:945)
==14750==    by 0x40798B: __gthread_mutex_lock(pthread_mutex_t*) (gthr-default.h:749)
==14750==    by 0x4081F1: std::mutex::lock() (std_mutex.h:100)
==14750==    by 0x40B2FA: std::unique_lock<std::mutex>::lock() (unique_lock.h:139)
==14750==    by 0x40A0DE: std::unique_lock<std::mutex>::unique_lock(std::mutex&) (unique_lock.h:69)
==14750==    by 0x421968: RType::Utils::SocketHandler::send(RType::Utils::MessageParsed_s const&) (SocketHandler.cpp:50)
==14750==    by 0x40FC51: RType::Server::Room::sendEntityType(RType::Utils::MessageParsed_s const&) (Room.cpp:276)
==14750==    by 0x40ED46: RType::Server::Room::sendMessageToRoom(RType::Utils::MessageParsed_s const&) (Room.cpp:109)
==14750==    by 0x406676: RType::CoreServer::threadMethod(RType::Utils::MessageParsed_s const&) (CoreServer.cpp:89)
==14750==    by 0x406197: RType::CoreServer::run()::{lambda()#1}::operator()() const (CoreServer.cpp:63)
==14750==    by 0x407653: void std::__invoke_impl<void, RType::CoreServer::run()::{lambda()#1}&>(std::__invoke_other, RType::CoreServer::run()::{lambda()#1}&) (invoke.h:61)
==14750==    by 0x407549: std::enable_if<is_invocable_r_v<void, RType::CoreServer::run()::{lambda()#1}&>, void>::type std::__invoke_r<void, RType::CoreServer::run()::{lambda()#1}&>(RType::CoreServer::run()::{lambda()#1}&) (invoke.h:111)
==14750== 
Add new bydos
==14750== Conflicting store by thread 14 at 0x056e5854 size 2
==14750==    at 0x41FD37: void __gnu_cxx::new_allocator<unsigned short>::construct<unsigned short, unsigned short const&>(unsigned short*, unsigned short const&) (new_allocator.h:162)
==14750==    by 0x41F7D5: void std::allocator_traits<std::allocator<unsigned short> >::construct<unsigned short, unsigned short const&>(std::allocator<unsigned short>&, unsigned short*, unsigned short const&) (alloc_traits.h:516)
==14750==    by 0x43E92B: std::vector<unsigned short, std::allocator<unsigned short> >::push_back(unsigned short const&) (stl_vector.h:1192)
==14750==    by 0x441A69: RType::RTypeGameLoop::handleBydos(std::queue<RType::Utils::MessageParsed_s, std::deque<RType::Utils::MessageParsed_s, std::allocator<RType::Utils::MessageParsed_s> > >&) (RTypeGameLoop.cpp:112)
==14750==    by 0x441172: RType::RTypeGameLoop::runAfterUpdate(std::queue<std::pair<unsigned short, RType::Utils::MessageParsed_s>, std::deque<std::pair<unsigned short, RType::Utils::MessageParsed_s>, std::allocator<std::pair<unsigned short, RType::Utils::MessageParsed_s> > > >) (RTypeGameLoop.cpp:43)
==14750==    by 0x43E1B8: RType::GameLoop::updateGameLoop(std::queue<std::pair<unsigned short, RType::Utils::MessageParsed_s>, std::deque<std::pair<unsigned short, RType::Utils::MessageParsed_s>, std::allocator<std::pair<unsigned short, RType::Utils::MessageParsed_s> > > >) (GameLoop.cpp:33)
==14750==    by 0x40F1AE: RType::Server::Room::runRoom() (Room.cpp:153)
==14750==    by 0x41BBF5: void std::__invoke_impl<void, void (RType::Server::Room::*)(), RType::Server::Room*>(std::__invoke_memfun_deref, void (RType::Server::Room::*&&)(), RType::Server::Room*&&) (invoke.h:74)
==14750==    by 0x41BB54: std::__invoke_result<void (RType::Server::Room::*)(), RType::Server::Room*>::type std::__invoke<void (RType::Server::Room::*)(), RType::Server::Room*>(void (RType::Server::Room::*&&)(), RType::Server::Room*&&) (invoke.h:96)
==14750==    by 0x41BAC4: void std::thread::_Invoker<std::tuple<void (RType::Server::Room::*)(), RType::Server::Room*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) (std_thread.h:253)
==14750==    by 0x41BA4F: std::thread::_Invoker<std::tuple<void (RType::Server::Room::*)(), RType::Server::Room*> >::operator()() (std_thread.h:260)
==14750==    by 0x41B9F3: std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (RType::Server::Room::*)(), RType::Server::Room*> > >::_M_run() (std_thread.h:211)
==14750== Address 0x56e5854 is at offset 4 from 0x56e5850. Allocation context:
==14750==    at 0x4846335: operator new(unsigned long) (vg_replace_malloc.c:422)
==14750==    by 0x41A895: __gnu_cxx::new_allocator<unsigned short>::allocate(unsigned long, void const*) (new_allocator.h:127)
==14750==    by 0x4198A4: std::allocator_traits<std::allocator<unsigned short> >::allocate(std::allocator<unsigned short>&, unsigned long) (alloc_traits.h:464)
==14750==    by 0x43F67F: std::_Vector_base<unsigned short, std::allocator<unsigned short> >::_M_allocate(unsigned long) (stl_vector.h:346)
==14750==    by 0x43EE73: void std::vector<unsigned short, std::allocator<unsigned short> >::_M_realloc_insert<unsigned short const&>(__gnu_cxx::__normal_iterator<unsigned short*, std::vector<unsigned short, std::allocator<unsigned short> > >, unsigned short const&) (vector.tcc:440)
==14750==    by 0x43E963: std::vector<unsigned short, std::allocator<unsigned short> >::push_back(unsigned short const&) (stl_vector.h:1198)
==14750==    by 0x441A69: RType::RTypeGameLoop::handleBydos(std::queue<RType::Utils::MessageParsed_s, std::deque<RType::Utils::MessageParsed_s, std::allocator<RType::Utils::MessageParsed_s> > >&) (RTypeGameLoop.cpp:112)
==14750==    by 0x441172: RType::RTypeGameLoop::runAfterUpdate(std::queue<std::pair<unsigned short, RType::Utils::MessageParsed_s>, std::deque<std::pair<unsigned short, RType::Utils::MessageParsed_s>, std::allocator<std::pair<unsigned short, RType::Utils::MessageParsed_s> > > >) (RTypeGameLoop.cpp:43)
==14750==    by 0x43E1B8: RType::GameLoop::updateGameLoop(std::queue<std::pair<unsigned short, RType::Utils::MessageParsed_s>, std::deque<std::pair<unsigned short, RType::Utils::MessageParsed_s>, std::allocator<std::pair<unsigned short, RType::Utils::MessageParsed_s> > > >) (GameLoop.cpp:33)
==14750==    by 0x40F1AE: RType::Server::Room::runRoom() (Room.cpp:153)
==14750==    by 0x41BBF5: void std::__invoke_impl<void, void (RType::Server::Room::*)(), RType::Server::Room*>(std::__invoke_memfun_deref, void (RType::Server::Room::*&&)(), RType::Server::Room*&&) (invoke.h:74)
==14750==    by 0x41BB54: std::__invoke_result<void (RType::Server::Room::*)(), RType::Server::Room*>::type std::__invoke<void (RType::Server::Room::*)(), RType::Server::Room*>(void (RType::Server::Room::*&&)(), RType::Server::Room*&&) (invoke.h:96)
==14750== Other segment start (thread 5)
==14750==    at 0x485237C: pthread_mutex_lock_intercept (drd_pthread_intercepts.c:935)
==14750==    by 0x485237C: pthread_mutex_lock (drd_pthread_intercepts.c:945)
==14750==    by 0x40798B: __gthread_mutex_lock(pthread_mutex_t*) (gthr-default.h:749)
==14750==    by 0x4081F1: std::mutex::lock() (std_mutex.h:100)
==14750==    by 0x40B2FA: std::unique_lock<std::mutex>::lock() (unique_lock.h:139)
==14750==    by 0x40A0DE: std::unique_lock<std::mutex>::unique_lock(std::mutex&) (unique_lock.h:69)
==14750==    by 0x40FB73: RType::Server::Room::sendEntityType(RType::Utils::MessageParsed_s const&) (Room.cpp:270)
==14750==    by 0x40ED46: RType::Server::Room::sendMessageToRoom(RType::Utils::MessageParsed_s const&) (Room.cpp:109)
==14750==    by 0x406676: RType::CoreServer::threadMethod(RType::Utils::MessageParsed_s const&) (CoreServer.cpp:89)
==14750==    by 0x406197: RType::CoreServer::run()::{lambda()#1}::operator()() const (CoreServer.cpp:63)
==14750==    by 0x407653: void std::__invoke_impl<void, RType::CoreServer::run()::{lambda()#1}&>(std::__invoke_other, RType::CoreServer::run()::{lambda()#1}&) (invoke.h:61)
==14750==    by 0x407549: std::enable_if<is_invocable_r_v<void, RType::CoreServer::run()::{lambda()#1}&>, void>::type std::__invoke_r<void, RType::CoreServer::run()::{lambda()#1}&>(RType::CoreServer::run()::{lambda()#1}&) (invoke.h:111)
==14750==    by 0x4073E6: std::_Function_handler<void (), RType::CoreServer::run()::{lambda()#1}>::_M_invoke(std::_Any_data const&) (std_function.h:290)
==14750== Other segment end (thread 5)
==14750==    at 0x485237C: pthread_mutex_lock_intercept (drd_pthread_intercepts.c:935)
==14750==    by 0x485237C: pthread_mutex_lock (drd_pthread_intercepts.c:945)
==14750==    by 0x40798B: __gthread_mutex_lock(pthread_mutex_t*) (gthr-default.h:749)
==14750==    by 0x4081F1: std::mutex::lock() (std_mutex.h:100)
==14750==    by 0x40B2FA: std::unique_lock<std::mutex>::lock() (unique_lock.h:139)
==14750==    by 0x40A0DE: std::unique_lock<std::mutex>::unique_lock(std::mutex&) (unique_lock.h:69)
==14750==    by 0x421968: RType::Utils::SocketHandler::send(RType::Utils::MessageParsed_s const&) (SocketHandler.cpp:50)
==14750==    by 0x40FC51: RType::Server::Room::sendEntityType(RType::Utils::MessageParsed_s const&) (Room.cpp:276)
==14750==    by 0x40ED46: RType::Server::Room::sendMessageToRoom(RType::Utils::MessageParsed_s const&) (Room.cpp:109)
==14750==    by 0x406676: RType::CoreServer::threadMethod(RType::Utils::MessageParsed_s const&) (CoreServer.cpp:89)
==14750==    by 0x406197: RType::CoreServer::run()::{lambda()#1}::operator()() const (CoreServer.cpp:63)
==14750==    by 0x407653: void std::__invoke_impl<void, RType::CoreServer::run()::{lambda()#1}&>(std::__invoke_other, RType::CoreServer::run()::{lambda()#1}&) (invoke.h:61)
==14750==    by 0x407549: std::enable_if<is_invocable_r_v<void, RType::CoreServer::run()::{lambda()#1}&>, void>::type std::__invoke_r<void, RType::CoreServer::run()::{lambda()#1}&>(RType::CoreServer::run()::{lambda()#1}&) (invoke.h:111)
==14750== 
==14750== Conflicting store by thread 14 at 0x056c7890 size 8
==14750==    at 0x43E93C: std::vector<unsigned short, std::allocator<unsigned short> >::push_back(unsigned short const&) (stl_vector.h:1194)
==14750==    by 0x441A69: RType::RTypeGameLoop::handleBydos(std::queue<RType::Utils::MessageParsed_s, std::deque<RType::Utils::MessageParsed_s, std::allocator<RType::Utils::MessageParsed_s> > >&) (RTypeGameLoop.cpp:112)
==14750==    by 0x441172: RType::RTypeGameLoop::runAfterUpdate(std::queue<std::pair<unsigned short, RType::Utils::MessageParsed_s>, std::deque<std::pair<unsigned short, RType::Utils::MessageParsed_s>, std::allocator<std::pair<unsigned short, RType::Utils::MessageParsed_s> > > >) (RTypeGameLoop.cpp:43)
==14750==    by 0x43E1B8: RType::GameLoop::updateGameLoop(std::queue<std::pair<unsigned short, RType::Utils::MessageParsed_s>, std::deque<std::pair<unsigned short, RType::Utils::MessageParsed_s>, std::allocator<std::pair<unsigned short, RType::Utils::MessageParsed_s> > > >) (GameLoop.cpp:33)
==14750==    by 0x40F1AE: RType::Server::Room::runRoom() (Room.cpp:153)
==14750==    by 0x41BBF5: void std::__invoke_impl<void, void (RType::Server::Room::*)(), RType::Server::Room*>(std::__invoke_memfun_deref, void (RType::Server::Room::*&&)(), RType::Server::Room*&&) (invoke.h:74)
==14750==    by 0x41BB54: std::__invoke_result<void (RType::Server::Room::*)(), RType::Server::Room*>::type std::__invoke<void (RType::Server::Room::*)(), RType::Server::Room*>(void (RType::Server::Room::*&&)(), RType::Server::Room*&&) (invoke.h:96)
==14750==    by 0x41BAC4: void std::thread::_Invoker<std::tuple<void (RType::Server::Room::*)(), RType::Server::Room*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) (std_thread.h:253)
==14750==    by 0x41BA4F: std::thread::_Invoker<std::tuple<void (RType::Server::Room::*)(), RType::Server::Room*> >::operator()() (std_thread.h:260)
==14750==    by 0x41B9F3: std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (RType::Server::Room::*)(), RType::Server::Room*> > >::_M_run() (std_thread.h:211)
==14750==    by 0x4A11CA3: execute_native_thread_routine (thread.cc:82)
==14750==    by 0x484BC5A: vgDrd_thread_wrapper (drd_pthread_intercepts.c:491)
==14750== Address 0x56c7890 is at offset 656 from 0x56c7600. Allocation context:
==14750==    at 0x4846335: operator new(unsigned long) (vg_replace_malloc.c:422)
==14750==    by 0x41137D: std::_MakeUniq<RType::RTypeGameLoop>::__single_object std::make_unique<RType::RTypeGameLoop, Core&>(Core&) (unique_ptr.h:962)
==14750==    by 0x40E1C6: RType::Server::Room::Room(unsigned char, unsigned char, std::shared_ptr<RType::Utils::SocketHandler>) (Room.cpp:22)
==14750==    by 0x40A2C7: std::_MakeUniq<RType::Server::Room>::__single_object std::make_unique<RType::Server::Room, unsigned char const&, RType::Server::basesValues, std::shared_ptr<RType::Utils::SocketHandler> >(unsigned char const&, RType::Server::basesValues&&, std::shared_ptr<RType::Utils::SocketHandler>&&) (unique_ptr.h:962)
==14750==    by 0x4069C7: RType::CoreServer::newRoomCreated(RType::Utils::MessageParsed_s const&) (CoreServer.cpp:115)
==14750==    by 0x40657D: RType::CoreServer::threadMethod(RType::Utils::MessageParsed_s const&) (CoreServer.cpp:82)
==14750==    by 0x406197: RType::CoreServer::run()::{lambda()#1}::operator()() const (CoreServer.cpp:63)
==14750==    by 0x407653: void std::__invoke_impl<void, RType::CoreServer::run()::{lambda()#1}&>(std::__invoke_other, RType::CoreServer::run()::{lambda()#1}&) (invoke.h:61)
==14750==    by 0x407549: std::enable_if<is_invocable_r_v<void, RType::CoreServer::run()::{lambda()#1}&>, void>::type std::__invoke_r<void, RType::CoreServer::run()::{lambda()#1}&>(RType::CoreServer::run()::{lambda()#1}&) (invoke.h:111)
==14750==    by 0x4073E6: std::_Function_handler<void (), RType::CoreServer::run()::{lambda()#1}>::_M_invoke(std::_Any_data const&) (std_function.h:290)
==14750==    by 0x41C5BF: std::function<void ()>::operator()() const (std_function.h:590)
==14750==    by 0x41BFB2: RType::Server::ThreadPool::ThreadMain() (ThreadPool.cpp:51)
==14750== Other segment start (thread 5)
==14750==    at 0x485237C: pthread_mutex_lock_intercept (drd_pthread_intercepts.c:935)
==14750==    by 0x485237C: pthread_mutex_lock (drd_pthread_intercepts.c:945)
==14750==    by 0x40798B: __gthread_mutex_lock(pthread_mutex_t*) (gthr-default.h:749)
==14750==    by 0x4081F1: std::mutex::lock() (std_mutex.h:100)
==14750==    by 0x40B2FA: std::unique_lock<std::mutex>::lock() (unique_lock.h:139)
==14750==    by 0x40A0DE: std::unique_lock<std::mutex>::unique_lock(std::mutex&) (unique_lock.h:69)
==14750==    by 0x40FB73: RType::Server::Room::sendEntityType(RType::Utils::MessageParsed_s const&) (Room.cpp:270)
==14750==    by 0x40ED46: RType::Server::Room::sendMessageToRoom(RType::Utils::MessageParsed_s const&) (Room.cpp:109)
==14750==    by 0x406676: RType::CoreServer::threadMethod(RType::Utils::MessageParsed_s const&) (CoreServer.cpp:89)
==14750==    by 0x406197: RType::CoreServer::run()::{lambda()#1}::operator()() const (CoreServer.cpp:63)
==14750==    by 0x407653: void std::__invoke_impl<void, RType::CoreServer::run()::{lambda()#1}&>(std::__invoke_other, RType::CoreServer::run()::{lambda()#1}&) (invoke.h:61)
==14750==    by 0x407549: std::enable_if<is_invocable_r_v<void, RType::CoreServer::run()::{lambda()#1}&>, void>::type std::__invoke_r<void, RType::CoreServer::run()::{lambda()#1}&>(RType::CoreServer::run()::{lambda()#1}&) (invoke.h:111)
==14750==    by 0x4073E6: std::_Function_handler<void (), RType::CoreServer::run()::{lambda()#1}>::_M_invoke(std::_Any_data const&) (std_function.h:290)
==14750== Other segment end (thread 5)
==14750==    at 0x485237C: pthread_mutex_lock_intercept (drd_pthread_intercepts.c:935)
==14750==    by 0x485237C: pthread_mutex_lock (drd_pthread_intercepts.c:945)
==14750==    by 0x40798B: __gthread_mutex_lock(pthread_mutex_t*) (gthr-default.h:749)
==14750==    by 0x4081F1: std::mutex::lock() (std_mutex.h:100)
==14750==    by 0x40B2FA: std::unique_lock<std::mutex>::lock() (unique_lock.h:139)
==14750==    by 0x40A0DE: std::unique_lock<std::mutex>::unique_lock(std::mutex&) (unique_lock.h:69)
==14750==    by 0x421968: RType::Utils::SocketHandler::send(RType::Utils::MessageParsed_s const&) (SocketHandler.cpp:50)
==14750==    by 0x40FC51: RType::Server::Room::sendEntityType(RType::Utils::MessageParsed_s const&) (Room.cpp:276)
==14750==    by 0x40ED46: RType::Server::Room::sendMessageToRoom(RType::Utils::MessageParsed_s const&) (Room.cpp:109)
==14750==    by 0x406676: RType::CoreServer::threadMethod(RType::Utils::MessageParsed_s const&) (CoreServer.cpp:89)
==14750==    by 0x406197: RType::CoreServer::run()::{lambda()#1}::operator()() const (CoreServer.cpp:63)
==14750==    by 0x407653: void std::__invoke_impl<void, RType::CoreServer::run()::{lambda()#1}&>(std::__invoke_other, RType::CoreServer::run()::{lambda()#1}&) (invoke.h:61)
==14750==    by 0x407549: std::enable_if<is_invocable_r_v<void, RType::CoreServer::run()::{lambda()#1}&>, void>::type std::__invoke_r<void, RType::CoreServer::run()::{lambda()#1}&>(RType::CoreServer::run()::{lambda()#1}&) (invoke.h:111)
==14750== Other segment start (thread 5)
==14750==    at 0x485237C: pthread_mutex_lock_intercept (drd_pthread_intercepts.c:935)
==14750==    by 0x485237C: pthread_mutex_lock (drd_pthread_intercepts.c:945)
==14750==    by 0x40798B: __gthread_mutex_lock(pthread_mutex_t*) (gthr-default.h:749)
==14750==    by 0x4081F1: std::mutex::lock() (std_mutex.h:100)
==14750==    by 0x40B2FA: std::unique_lock<std::mutex>::lock() (unique_lock.h:139)
==14750==    by 0x40A0DE: std::unique_lock<std::mutex>::unique_lock(std::mutex&) (unique_lock.h:69)
==14750==    by 0x40FB73: RType::Server::Room::sendEntityType(RType::Utils::MessageParsed_s const&) (Room.cpp:270)
==14750==    by 0x40ED46: RType::Server::Room::sendMessageToRoom(RType::Utils::MessageParsed_s const&) (Room.cpp:109)
==14750==    by 0x406676: RType::CoreServer::threadMethod(RType::Utils::MessageParsed_s const&) (CoreServer.cpp:89)
==14750==    by 0x406197: RType::CoreServer::run()::{lambda()#1}::operator()() const (CoreServer.cpp:63)
==14750==    by 0x407653: void std::__invoke_impl<void, RType::CoreServer::run()::{lambda()#1}&>(std::__invoke_other, RType::CoreServer::run()::{lambda()#1}&) (invoke.h:61)
==14750==    by 0x407549: std::enable_if<is_invocable_r_v<void, RType::CoreServer::run()::{lambda()#1}&>, void>::type std::__invoke_r<void, RType::CoreServer::run()::{lambda()#1}&>(RType::CoreServer::run()::{lambda()#1}&) (invoke.h:111)
==14750==    by 0x4073E6: std::_Function_handler<void (), RType::CoreServer::run()::{lambda()#1}>::_M_invoke(std::_Any_data const&) (std_function.h:290)
==14750== Other segment end (thread 5)
==14750==    at 0x485237C: pthread_mutex_lock_intercept (drd_pthread_intercepts.c:935)
==14750==    by 0x485237C: pthread_mutex_lock (drd_pthread_intercepts.c:945)
==14750==    by 0x40798B: __gthread_mutex_lock(pthread_mutex_t*) (gthr-default.h:749)
==14750==    by 0x4081F1: std::mutex::lock() (std_mutex.h:100)
==14750==    by 0x40B2FA: std::unique_lock<std::mutex>::lock() (unique_lock.h:139)
==14750==    by 0x40A0DE: std::unique_lock<std::mutex>::unique_lock(std::mutex&) (unique_lock.h:69)
==14750==    by 0x421968: RType::Utils::SocketHandler::send(RType::Utils::MessageParsed_s const&) (SocketHandler.cpp:50)
==14750==    by 0x40FC51: RType::Server::Room::sendEntityType(RType::Utils::MessageParsed_s const&) (Room.cpp:276)
==14750==    by 0x40ED46: RType::Server::Room::sendMessageToRoom(RType::Utils::MessageParsed_s const&) (Room.cpp:109)
==14750==    by 0x406676: RType::CoreServer::threadMethod(RType::Utils::MessageParsed_s const&) (CoreServer.cpp:89)
==14750==    by 0x406197: RType::CoreServer::run()::{lambda()#1}::operator()() const (CoreServer.cpp:63)
==14750==    by 0x407653: void std::__invoke_impl<void, RType::CoreServer::run()::{lambda()#1}&>(std::__invoke_other, RType::CoreServer::run()::{lambda()#1}&) (invoke.h:61)
==14750==    by 0x407549: std::enable_if<is_invocable_r_v<void, RType::CoreServer::run()::{lambda()#1}&>, void>::type std::__invoke_r<void, RType::CoreServer::run()::{lambda()#1}&>(RType::CoreServer::run()::{lambda()#1}&) (invoke.h:111)
==14750== 
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
One life removed...
One life removed !
==14750== Thread 8:
==14750== Conflicting load by thread 8 at 0x05992e00 size 8
==14750==    at 0x414520: std::__detail::_Hash_node<std::pair<unsigned short const, std::shared_ptr<IEntity> >, false>::_M_next() const (hashtable_policy.h:283)
==14750==    by 0x41F314: std::__detail::_Node_iterator_base<std::pair<unsigned short const, std::shared_ptr<IEntity> >, false>::_M_incr() (hashtable_policy.h:300)
==14750==    by 0x41F0DF: std::__detail::_Node_iterator<std::pair<unsigned short const, std::shared_ptr<IEntity> >, false, false>::operator++() (hashtable_policy.h:352)
==14750==    by 0x441638: RType::RTypeGameLoop::getEntityType(unsigned short) (RTypeGameLoop.cpp:73)
==14750==    by 0x40FC1E: RType::Server::Room::sendEntityType(RType::Utils::MessageParsed_s const&) (Room.cpp:275)
==14750==    by 0x40ED46: RType::Server::Room::sendMessageToRoom(RType::Utils::MessageParsed_s const&) (Room.cpp:109)
==14750==    by 0x406676: RType::CoreServer::threadMethod(RType::Utils::MessageParsed_s const&) (CoreServer.cpp:89)
==14750==    by 0x406197: RType::CoreServer::run()::{lambda()#1}::operator()() const (CoreServer.cpp:63)
==14750==    by 0x407653: void std::__invoke_impl<void, RType::CoreServer::run()::{lambda()#1}&>(std::__invoke_other, RType::CoreServer::run()::{lambda()#1}&) (invoke.h:61)
==14750==    by 0x407549: std::enable_if<is_invocable_r_v<void, RType::CoreServer::run()::{lambda()#1}&>, void>::type std::__invoke_r<void, RType::CoreServer::run()::{lambda()#1}&>(RType::CoreServer::run()::{lambda()#1}&) (invoke.h:111)
==14750==    by 0x4073E6: std::_Function_handler<void (), RType::CoreServer::run()::{lambda()#1}>::_M_invoke(std::_Any_data const&) (std_function.h:290)
==14750==    by 0x41C5BF: std::function<void ()>::operator()() const (std_function.h:590)
==14750== Address 0x5992e00 is at offset 0 from 0x5992e00. Allocation context:
==14750==    at 0x4846335: operator new(unsigned long) (vg_replace_malloc.c:422)
==14750==    by 0x420697: __gnu_cxx::new_allocator<std::__detail::_Hash_node<std::pair<unsigned short const, std::shared_ptr<IEntity> >, false> >::allocate(unsigned long, void const*) (new_allocator.h:127)
==14750==    by 0x4203A4: std::allocator_traits<std::allocator<std::__detail::_Hash_node<std::pair<unsigned short const, std::shared_ptr<IEntity> >, false> > >::allocate(std::allocator<std::__detail::_Hash_node<std::pair<unsigned short const, std::shared_ptr<IEntity> >, false> >&, unsigned long) (alloc_traits.h:464)
==14750==    by 0x41FE0D: std::__detail::_Hash_node<std::pair<unsigned short const, std::shared_ptr<IEntity> >, false>* std::__detail::_Hashtable_alloc<std::allocator<std::__detail::_Hash_node<std::pair<unsigned short const, std::shared_ptr<IEntity> >, false> > >::_M_allocate_node<std::pair<unsigned short const, std::shared_ptr<IEntity> > >(std::pair<unsigned short const, std::shared_ptr<IEntity> >&&) (hashtable_policy.h:1873)
==14750==    by 0x41F96E: std::_Hashtable<unsigned short, std::pair<unsigned short const, std::shared_ptr<IEntity> >, std::allocator<std::pair<unsigned short const, std::shared_ptr<IEntity> > >, std::__detail::_Select1st, std::equal_to<unsigned short>, std::hash<unsigned short>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, false, true> >::_Scoped_node::_Scoped_node<std::pair<unsigned short const, std::shared_ptr<IEntity> > >(std::__detail::_Hashtable_alloc<std::allocator<std::__detail::_Hash_node<std::pair<unsigned short const, std::shared_ptr<IEntity> >, false> > >*, std::pair<unsigned short const, std::shared_ptr<IEntity> >&&) (hashtable.h:304)
==14750==    by 0x41F4F5: std::pair<std::__detail::_Node_iterator<std::pair<unsigned short const, std::shared_ptr<IEntity> >, false, false>, bool> std::_Hashtable<unsigned short, std::pair<unsigned short const, std::shared_ptr<IEntity> >, std::allocator<std::pair<unsigned short const, std::shared_ptr<IEntity> > >, std::__detail::_Select1st, std::equal_to<unsigned short>, std::hash<unsigned short>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, false, true> >::_M_emplace<std::pair<unsigned short const, std::shared_ptr<IEntity> > >(std::integral_constant<bool, true>, std::pair<unsigned short const, std::shared_ptr<IEntity> >&&) (hashtable.h:1966)
==14750==    by 0x41F1EF: std::pair<std::__detail::_Node_iterator<std::pair<unsigned short const, std::shared_ptr<IEntity> >, false, false>, bool> std::__detail::_Insert<unsigned short, std::pair<unsigned short const, std::shared_ptr<IEntity> >, std::allocator<std::pair<unsigned short const, std::shared_ptr<IEntity> > >, std::__detail::_Select1st, std::equal_to<unsigned short>, std::hash<unsigned short>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, false, true>, false>::insert<std::pair<unsigned short const, std::shared_ptr<IEntity> >, void>(std::pair<unsigned short const, std::shared_ptr<IEntity> >&&) (hashtable_policy.h:1036)
==14750==    by 0x41F03D: std::unordered_map<unsigned short, std::shared_ptr<IEntity>, std::hash<unsigned short>, std::equal_to<unsigned short>, std::allocator<std::pair<unsigned short const, std::shared_ptr<IEntity> > > >::insert(std::pair<unsigned short const, std::shared_ptr<IEntity> >&&) (unordered_map.h:558)
==14750==    by 0x41E88B: Core::addEntity(std::shared_ptr<IEntity> const&, unsigned short) (Core.cpp:15)
==14750==    by 0x40E664: RType::Server::Room::addToRoom(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, int> const&) (Room.cpp:51)
==14750==    by 0x406A40: RType::CoreServer::newRoomCreated(RType::Utils::MessageParsed_s const&) (CoreServer.cpp:116)
==14750==    by 0x40657D: RType::CoreServer::threadMethod(RType::Utils::MessageParsed_s const&) (CoreServer.cpp:82)
==14750== Other segment start (thread 14)
==14750==    at 0x4855018: pthread_mutex_unlock_intercept (drd_pthread_intercepts.c:1025)
==14750==    by 0x4855018: pthread_mutex_unlock (drd_pthread_intercepts.c:1038)
==14750==    by 0x4079BA: __gthread_mutex_unlock(pthread_mutex_t*) (gthr-default.h:779)
==14750==    by 0x40821F: std::mutex::unlock() (std_mutex.h:118)
==14750==    by 0x40B345: std::unique_lock<std::mutex>::unlock() (unique_lock.h:195)
==14750==    by 0x40A10D: std::unique_lock<std::mutex>::~unique_lock() (unique_lock.h:104)
==14750==    by 0x41ECCD: Core::removeEntityLater(IEntity&) (Core.cpp:65)
==14750==    by 0x43A414: ShotSystem::clearShots(ShotEntity&, Core&) (ShotSystem.cpp:25)
==14750==    by 0x4425A3: SystemVisitor::visitShot(ShotEntity&, Core&) (SystemVisitor.hpp:46)
==14750==    by 0x43D538: ShotEntity::accept(IVisitor&, Core&) (ShotEntity.cpp:83)
==14750==    by 0x441204: RType::RTypeGameLoop::runAfterUpdate(std::queue<std::pair<unsigned short, RType::Utils::MessageParsed_s>, std::deque<std::pair<unsigned short, RType::Utils::MessageParsed_s>, std::allocator<std::pair<unsigned short, RType::Utils::MessageParsed_s> > > >) (RTypeGameLoop.cpp:45)
==14750==    by 0x43E1B8: RType::GameLoop::updateGameLoop(std::queue<std::pair<unsigned short, RType::Utils::MessageParsed_s>, std::deque<std::pair<unsigned short, RType::Utils::MessageParsed_s>, std::allocator<std::pair<unsigned short, RType::Utils::MessageParsed_s> > > >) (GameLoop.cpp:33)
==14750==    by 0x40F1AE: RType::Server::Room::runRoom() (Room.cpp:153)
==14750== Other segment end (thread 14)
==14750==    at 0x485237C: pthread_mutex_lock_intercept (drd_pthread_intercepts.c:935)
==14750==    by 0x485237C: pthread_mutex_lock (drd_pthread_intercepts.c:945)
==14750==    by 0x48FAB5C: sf::GlResource::TransientContextLock::TransientContextLock() (in /usr/lib64/libsfml-window.so.2.5.1)
==14750==    by 0x48C2804: sf::Texture::~Texture() (in /usr/lib64/libsfml-graphics.so.2.5.1)
==14750==    by 0x4101E5: Drawable::~Drawable() (Drawable.hpp:24)
==14750==    by 0x4339D5: ShotEntity::~ShotEntity() (ShotEntity.hpp:24)
==14750==    by 0x434745: void __gnu_cxx::new_allocator<ShotEntity>::destroy<ShotEntity>(ShotEntity*) (new_allocator.h:168)
==14750==    by 0x434718: void std::allocator_traits<std::allocator<ShotEntity> >::destroy<ShotEntity>(std::allocator<ShotEntity>&, ShotEntity*) (alloc_traits.h:535)
==14750==    by 0x43460A: std::_Sp_counted_ptr_inplace<ShotEntity, std::allocator<ShotEntity>, (__gnu_cxx::_Lock_policy)2>::_M_dispose() (shared_ptr_base.h:528)
==14750==    by 0x40A61E: std::_Sp_counted_base<(__gnu_cxx::_Lock_policy)2>::_M_release() (shared_ptr_base.h:168)
==14750==    by 0x4095DC: std::__shared_count<(__gnu_cxx::_Lock_policy)2>::~__shared_count() (shared_ptr_base.h:705)
==14750==    by 0x41052B: std::__shared_ptr<IEntity, (__gnu_cxx::_Lock_policy)2>::~__shared_ptr() (shared_ptr_base.h:1154)
==14750==    by 0x410547: std::shared_ptr<IEntity>::~shared_ptr() (shared_ptr.h:122)
==14750== 
Entity not not well positionned
Delete a bydos
Add new bydos
One life removed...
One life removed !
Entity not not well positionned
Entity not not well positionned
Delete a bydos
Delete a bydos
Add new bydos
Add new bydos
One life removed...
One life removed !
Delete a bydos
Add new bydos
Entity not not well positionned
Entity not not well positionned
Delete a bydos
Delete a bydos
Add new bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Entity not not well positionned
Delete a bydos
Delete a bydos
Add new bydos
Add new bydos
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
==14750== Thread 14:
==14750== Conflicting store by thread 14 at 0x059a71b0 size 8
==14750==    at 0x420111: std::_Hashtable<unsigned short, std::pair<unsigned short const, std::shared_ptr<IEntity> >, std::allocator<std::pair<unsigned short const, std::shared_ptr<IEntity> > >, std::__detail::_Select1st, std::equal_to<unsigned short>, std::hash<unsigned short>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, false, true> >::_M_remove_bucket_begin(unsigned long, std::__detail::_Hash_node<std::pair<unsigned short const, std::shared_ptr<IEntity> >, false>*, unsigned long) (hashtable.h:1934)
==14750==    by 0x41FC50: std::_Hashtable<unsigned short, std::pair<unsigned short const, std::shared_ptr<IEntity> >, std::allocator<std::pair<unsigned short const, std::shared_ptr<IEntity> > >, std::__detail::_Select1st, std::equal_to<unsigned short>, std::hash<unsigned short>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, false, true> >::_M_erase(unsigned long, std::__detail::_Hash_node_base*, std::__detail::_Hash_node<std::pair<unsigned short const, std::shared_ptr<IEntity> >, false>*) (hashtable.h:2172)
==14750==    by 0x41F92C: std::_Hashtable<unsigned short, std::pair<unsigned short const, std::shared_ptr<IEntity> >, std::allocator<std::pair<unsigned short const, std::shared_ptr<IEntity> > >, std::__detail::_Select1st, std::equal_to<unsigned short>, std::hash<unsigned short>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, false, true> >::_M_erase(std::integral_constant<bool, true>, unsigned short const&) (hashtable.h:2209)
==14750==    by 0x41F404: std::_Hashtable<unsigned short, std::pair<unsigned short const, std::shared_ptr<IEntity> >, std::allocator<std::pair<unsigned short const, std::shared_ptr<IEntity> > >, std::__detail::_Select1st, std::equal_to<unsigned short>, std::hash<unsigned short>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, false, true> >::erase(unsigned short const&) (hashtable.h:938)
==14750==    by 0x41F176: std::unordered_map<unsigned short, std::shared_ptr<IEntity>, std::hash<unsigned short>, std::equal_to<unsigned short>, std::allocator<std::pair<unsigned short const, std::shared_ptr<IEntity> > > >::erase(unsigned short const&) (unordered_map.h:763)
==14750==    by 0x41EE0D: Core::eraseEntity() (Core.cpp:81)
==14750==    by 0x441377: RType::RTypeGameLoop::runAfterUpdate(std::queue<std::pair<unsigned short, RType::Utils::MessageParsed_s>, std::deque<std::pair<unsigned short, RType::Utils::MessageParsed_s>, std::allocator<std::pair<unsigned short, RType::Utils::MessageParsed_s> > > >) (RTypeGameLoop.cpp:57)
==14750==    by 0x43E1B8: RType::GameLoop::updateGameLoop(std::queue<std::pair<unsigned short, RType::Utils::MessageParsed_s>, std::deque<std::pair<unsigned short, RType::Utils::MessageParsed_s>, std::allocator<std::pair<unsigned short, RType::Utils::MessageParsed_s> > > >) (GameLoop.cpp:33)
==14750==    by 0x40F1AE: RType::Server::Room::runRoom() (Room.cpp:153)
==14750==    by 0x41BBF5: void std::__invoke_impl<void, void (RType::Server::Room::*)(), RType::Server::Room*>(std::__invoke_memfun_deref, void (RType::Server::Room::*&&)(), RType::Server::Room*&&) (invoke.h:74)
==14750==    by 0x41BB54: std::__invoke_result<void (RType::Server::Room::*)(), RType::Server::Room*>::type std::__invoke<void (RType::Server::Room::*)(), RType::Server::Room*>(void (RType::Server::Room::*&&)(), RType::Server::Room*&&) (invoke.h:96)
==14750==    by 0x41BAC4: void std::thread::_Invoker<std::tuple<void (RType::Server::Room::*)(), RType::Server::Room*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) (std_thread.h:253)
==14750== Address 0x59a71b0 is at offset 32 from 0x59a7190. Allocation context:
==14750==    at 0x4846335: operator new(unsigned long) (vg_replace_malloc.c:422)
==14750==    by 0x420B27: __gnu_cxx::new_allocator<std::__detail::_Hash_node_base*>::allocate(unsigned long, void const*) (new_allocator.h:127)
==14750==    by 0x420A4A: std::allocator_traits<std::allocator<std::__detail::_Hash_node_base*> >::allocate(std::allocator<std::__detail::_Hash_node_base*>&, unsigned long) (alloc_traits.h:464)
==14750==    by 0x4208DD: std::__detail::_Hashtable_alloc<std::allocator<std::__detail::_Hash_node<std::pair<unsigned short const, std::shared_ptr<IEntity> >, false> > >::_M_allocate_buckets(unsigned long) (hashtable_policy.h:1927)
==14750==    by 0x420768: std::_Hashtable<unsigned short, std::pair<unsigned short const, std::shared_ptr<IEntity> >, std::allocator<std::pair<unsigned short const, std::shared_ptr<IEntity> > >, std::__detail::_Select1st, std::equal_to<unsigned short>, std::hash<unsigned short>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, false, true> >::_M_allocate_buckets(unsigned long) (hashtable.h:440)
==14750==    by 0x42041E: std::_Hashtable<unsigned short, std::pair<unsigned short const, std::shared_ptr<IEntity> >, std::allocator<std::pair<unsigned short const, std::shared_ptr<IEntity> > >, std::__detail::_Select1st, std::equal_to<unsigned short>, std::hash<unsigned short>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, false, true> >::_M_rehash_aux(unsigned long, std::integral_constant<bool, true>) (hashtable.h:2382)
==14750==    by 0x41FF25: std::_Hashtable<unsigned short, std::pair<unsigned short const, std::shared_ptr<IEntity> >, std::allocator<std::pair<unsigned short const, std::shared_ptr<IEntity> > >, std::__detail::_Select1st, std::equal_to<unsigned short>, std::hash<unsigned short>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, false, true> >::_M_rehash(unsigned long, unsigned long const&) (hashtable.h:2361)
==14750==    by 0x41FAB0: std::_Hashtable<unsigned short, std::pair<unsigned short const, std::shared_ptr<IEntity> >, std::allocator<std::pair<unsigned short const, std::shared_ptr<IEntity> > >, std::__detail::_Select1st, std::equal_to<unsigned short>, std::hash<unsigned short>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, false, true> >::_M_insert_unique_node(unsigned long, unsigned long, std::__detail::_Hash_node<std::pair<unsigned short const, std::shared_ptr<IEntity> >, false>*, unsigned long) (hashtable.h:2021)
==14750==    by 0x41F5C8: std::pair<std::__detail::_Node_iterator<std::pair<unsigned short const, std::shared_ptr<IEntity> >, false, false>, bool> std::_Hashtable<unsigned short, std::pair<unsigned short const, std::shared_ptr<IEntity> >, std::allocator<std::pair<unsigned short const, std::shared_ptr<IEntity> > >, std::__detail::_Select1st, std::equal_to<unsigned short>, std::hash<unsigned short>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, false, true> >::_M_emplace<std::pair<unsigned short const, std::shared_ptr<IEntity> > >(std::integral_constant<bool, true>, std::pair<unsigned short const, std::shared_ptr<IEntity> >&&) (hashtable.h:1975)
==14750==    by 0x41F1EF: std::pair<std::__detail::_Node_iterator<std::pair<unsigned short const, std::shared_ptr<IEntity> >, false, false>, bool> std::__detail::_Insert<unsigned short, std::pair<unsigned short const, std::shared_ptr<IEntity> >, std::allocator<std::pair<unsigned short const, std::shared_ptr<IEntity> > >, std::__detail::_Select1st, std::equal_to<unsigned short>, std::hash<unsigned short>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, false, true>, false>::insert<std::pair<unsigned short const, std::shared_ptr<IEntity> >, void>(std::pair<unsigned short const, std::shared_ptr<IEntity> >&&) (hashtable_policy.h:1036)
==14750==    by 0x41F03D: std::unordered_map<unsigned short, std::shared_ptr<IEntity>, std::hash<unsigned short>, std::equal_to<unsigned short>, std::allocator<std::pair<unsigned short const, std::shared_ptr<IEntity> > > >::insert(std::pair<unsigned short const, std::shared_ptr<IEntity> >&&) (unordered_map.h:558)
==14750==    by 0x41E88B: Core::addEntity(std::shared_ptr<IEntity> const&, unsigned short) (Core.cpp:15)
==14750== Other segment start (thread 6)
==14750==    at 0x4857675: pthread_cond_wait_intercept (drd_pthread_intercepts.c:1133)
==14750==    by 0x4857675: pthread_cond_wait@* (drd_pthread_intercepts.c:1138)
==14750==    by 0x4A0BB3F: __gthread_cond_wait (gthr-default.h:865)
==14750==    by 0x4A0BB3F: wait (std_mutex.h:155)
==14750==    by 0x4A0BB3F: std::condition_variable::wait(std::unique_lock<std::mutex>&) (condition_variable.cc:41)
==14750==    by 0x41C0E2: void std::condition_variable::wait<RType::Server::ThreadPool::ThreadMain()::{lambda()#1}>(std::unique_lock<std::mutex>&, RType::Server::ThreadPool::ThreadMain()::{lambda()#1}) (condition_variable:103)
==14750==    by 0x41BF2F: RType::Server::ThreadPool::ThreadMain() (ThreadPool.cpp:41)
==14750==    by 0x41E4E9: void std::__invoke_impl<void, void (RType::Server::ThreadPool::*)(), RType::Server::ThreadPool*>(std::__invoke_memfun_deref, void (RType::Server::ThreadPool::*&&)(), RType::Server::ThreadPool*&&) (invoke.h:74)
==14750==    by 0x41E448: std::__invoke_result<void (RType::Server::ThreadPool::*)(), RType::Server::ThreadPool*>::type std::__invoke<void (RType::Server::ThreadPool::*)(), RType::Server::ThreadPool*>(void (RType::Server::ThreadPool::*&&)(), RType::Server::ThreadPool*&&) (invoke.h:96)
==14750==    by 0x41E3B8: void std::thread::_Invoker<std::tuple<void (RType::Server::ThreadPool::*)(), RType::Server::ThreadPool*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) (std_thread.h:253)
==14750==    by 0x41E371: std::thread::_Invoker<std::tuple<void (RType::Server::ThreadPool::*)(), RType::Server::ThreadPool*> >::operator()() (std_thread.h:260)
==14750==    by 0x41E355: std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (RType::Server::ThreadPool::*)(), RType::Server::ThreadPool*> > >::_M_run() (std_thread.h:211)
==14750==    by 0x4A11CA3: execute_native_thread_routine (thread.cc:82)
==14750==    by 0x484BC5A: vgDrd_thread_wrapper (drd_pthread_intercepts.c:491)
==14750==    by 0x49202A4: start_thread (pthread_create.c:481)
==14750== Other segment end (thread 6)
==14750==    at 0x485237C: pthread_mutex_lock_intercept (drd_pthread_intercepts.c:935)
==14750==    by 0x485237C: pthread_mutex_lock (drd_pthread_intercepts.c:945)
==14750==    by 0x40798B: __gthread_mutex_lock(pthread_mutex_t*) (gthr-default.h:749)
==14750==    by 0x4081F1: std::mutex::lock() (std_mutex.h:100)
==14750==    by 0x40B2FA: std::unique_lock<std::mutex>::lock() (unique_lock.h:139)
==14750==    by 0x40A0DE: std::unique_lock<std::mutex>::unique_lock(std::mutex&) (unique_lock.h:69)
==14750==    by 0x421968: RType::Utils::SocketHandler::send(RType::Utils::MessageParsed_s const&) (SocketHandler.cpp:50)
==14750==    by 0x40FC51: RType::Server::Room::sendEntityType(RType::Utils::MessageParsed_s const&) (Room.cpp:276)
==14750==    by 0x40ED46: RType::Server::Room::sendMessageToRoom(RType::Utils::MessageParsed_s const&) (Room.cpp:109)
==14750==    by 0x406676: RType::CoreServer::threadMethod(RType::Utils::MessageParsed_s const&) (CoreServer.cpp:89)
==14750==    by 0x406197: RType::CoreServer::run()::{lambda()#1}::operator()() const (CoreServer.cpp:63)
==14750==    by 0x407653: void std::__invoke_impl<void, RType::CoreServer::run()::{lambda()#1}&>(std::__invoke_other, RType::CoreServer::run()::{lambda()#1}&) (invoke.h:61)
==14750==    by 0x407549: std::enable_if<is_invocable_r_v<void, RType::CoreServer::run()::{lambda()#1}&>, void>::type std::__invoke_r<void, RType::CoreServer::run()::{lambda()#1}&>(RType::CoreServer::run()::{lambda()#1}&) (invoke.h:111)
==14750== Other segment start (thread 6)
==14750==    at 0x4857675: pthread_cond_wait_intercept (drd_pthread_intercepts.c:1133)
==14750==    by 0x4857675: pthread_cond_wait@* (drd_pthread_intercepts.c:1138)
==14750==    by 0x4A0BB3F: __gthread_cond_wait (gthr-default.h:865)
==14750==    by 0x4A0BB3F: wait (std_mutex.h:155)
==14750==    by 0x4A0BB3F: std::condition_variable::wait(std::unique_lock<std::mutex>&) (condition_variable.cc:41)
==14750==    by 0x41C0E2: void std::condition_variable::wait<RType::Server::ThreadPool::ThreadMain()::{lambda()#1}>(std::unique_lock<std::mutex>&, RType::Server::ThreadPool::ThreadMain()::{lambda()#1}) (condition_variable:103)
==14750==    by 0x41BF2F: RType::Server::ThreadPool::ThreadMain() (ThreadPool.cpp:41)
==14750==    by 0x41E4E9: void std::__invoke_impl<void, void (RType::Server::ThreadPool::*)(), RType::Server::ThreadPool*>(std::__invoke_memfun_deref, void (RType::Server::ThreadPool::*&&)(), RType::Server::ThreadPool*&&) (invoke.h:74)
==14750==    by 0x41E448: std::__invoke_result<void (RType::Server::ThreadPool::*)(), RType::Server::ThreadPool*>::type std::__invoke<void (RType::Server::ThreadPool::*)(), RType::Server::ThreadPool*>(void (RType::Server::ThreadPool::*&&)(), RType::Server::ThreadPool*&&) (invoke.h:96)
==14750==    by 0x41E3B8: void std::thread::_Invoker<std::tuple<void (RType::Server::ThreadPool::*)(), RType::Server::ThreadPool*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) (std_thread.h:253)
==14750==    by 0x41E371: std::thread::_Invoker<std::tuple<void (RType::Server::ThreadPool::*)(), RType::Server::ThreadPool*> >::operator()() (std_thread.h:260)
==14750==    by 0x41E355: std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (RType::Server::ThreadPool::*)(), RType::Server::ThreadPool*> > >::_M_run() (std_thread.h:211)
==14750==    by 0x4A11CA3: execute_native_thread_routine (thread.cc:82)
==14750==    by 0x484BC5A: vgDrd_thread_wrapper (drd_pthread_intercepts.c:491)
==14750==    by 0x49202A4: start_thread (pthread_create.c:481)
==14750== Other segment end (thread 6)
==14750==    at 0x485237C: pthread_mutex_lock_intercept (drd_pthread_intercepts.c:935)
==14750==    by 0x485237C: pthread_mutex_lock (drd_pthread_intercepts.c:945)
==14750==    by 0x40798B: __gthread_mutex_lock(pthread_mutex_t*) (gthr-default.h:749)
==14750==    by 0x4081F1: std::mutex::lock() (std_mutex.h:100)
==14750==    by 0x40B2FA: std::unique_lock<std::mutex>::lock() (unique_lock.h:139)
==14750==    by 0x40A0DE: std::unique_lock<std::mutex>::unique_lock(std::mutex&) (unique_lock.h:69)
==14750==    by 0x421968: RType::Utils::SocketHandler::send(RType::Utils::MessageParsed_s const&) (SocketHandler.cpp:50)
==14750==    by 0x40FC51: RType::Server::Room::sendEntityType(RType::Utils::MessageParsed_s const&) (Room.cpp:276)
==14750==    by 0x40ED46: RType::Server::Room::sendMessageToRoom(RType::Utils::MessageParsed_s const&) (Room.cpp:109)
==14750==    by 0x406676: RType::CoreServer::threadMethod(RType::Utils::MessageParsed_s const&) (CoreServer.cpp:89)
==14750==    by 0x406197: RType::CoreServer::run()::{lambda()#1}::operator()() const (CoreServer.cpp:63)
==14750==    by 0x407653: void std::__invoke_impl<void, RType::CoreServer::run()::{lambda()#1}&>(std::__invoke_other, RType::CoreServer::run()::{lambda()#1}&) (invoke.h:61)
==14750==    by 0x407549: std::enable_if<is_invocable_r_v<void, RType::CoreServer::run()::{lambda()#1}&>, void>::type std::__invoke_r<void, RType::CoreServer::run()::{lambda()#1}&>(RType::CoreServer::run()::{lambda()#1}&) (invoke.h:111)
==14750== Other segment start (thread 6)
==14750==    at 0x4857675: pthread_cond_wait_intercept (drd_pthread_intercepts.c:1133)
==14750==    by 0x4857675: pthread_cond_wait@* (drd_pthread_intercepts.c:1138)
==14750==    by 0x4A0BB3F: __gthread_cond_wait (gthr-default.h:865)
==14750==    by 0x4A0BB3F: wait (std_mutex.h:155)
==14750==    by 0x4A0BB3F: std::condition_variable::wait(std::unique_lock<std::mutex>&) (condition_variable.cc:41)
==14750==    by 0x41C0E2: void std::condition_variable::wait<RType::Server::ThreadPool::ThreadMain()::{lambda()#1}>(std::unique_lock<std::mutex>&, RType::Server::ThreadPool::ThreadMain()::{lambda()#1}) (condition_variable:103)
==14750==    by 0x41BF2F: RType::Server::ThreadPool::ThreadMain() (ThreadPool.cpp:41)
==14750==    by 0x41E4E9: void std::__invoke_impl<void, void (RType::Server::ThreadPool::*)(), RType::Server::ThreadPool*>(std::__invoke_memfun_deref, void (RType::Server::ThreadPool::*&&)(), RType::Server::ThreadPool*&&) (invoke.h:74)
==14750==    by 0x41E448: std::__invoke_result<void (RType::Server::ThreadPool::*)(), RType::Server::ThreadPool*>::type std::__invoke<void (RType::Server::ThreadPool::*)(), RType::Server::ThreadPool*>(void (RType::Server::ThreadPool::*&&)(), RType::Server::ThreadPool*&&) (invoke.h:96)
==14750==    by 0x41E3B8: void std::thread::_Invoker<std::tuple<void (RType::Server::ThreadPool::*)(), RType::Server::ThreadPool*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) (std_thread.h:253)
==14750==    by 0x41E371: std::thread::_Invoker<std::tuple<void (RType::Server::ThreadPool::*)(), RType::Server::ThreadPool*> >::operator()() (std_thread.h:260)
==14750==    by 0x41E355: std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (RType::Server::ThreadPool::*)(), RType::Server::ThreadPool*> > >::_M_run() (std_thread.h:211)
==14750==    by 0x4A11CA3: execute_native_thread_routine (thread.cc:82)
==14750==    by 0x484BC5A: vgDrd_thread_wrapper (drd_pthread_intercepts.c:491)
==14750==    by 0x49202A4: start_thread (pthread_create.c:481)
==14750== Other segment end (thread 6)
==14750==    at 0x485237C: pthread_mutex_lock_intercept (drd_pthread_intercepts.c:935)
==14750==    by 0x485237C: pthread_mutex_lock (drd_pthread_intercepts.c:945)
==14750==    by 0x40798B: __gthread_mutex_lock(pthread_mutex_t*) (gthr-default.h:749)
==14750==    by 0x4081F1: std::mutex::lock() (std_mutex.h:100)
==14750==    by 0x40B2FA: std::unique_lock<std::mutex>::lock() (unique_lock.h:139)
==14750==    by 0x40A0DE: std::unique_lock<std::mutex>::unique_lock(std::mutex&) (unique_lock.h:69)
==14750==    by 0x421968: RType::Utils::SocketHandler::send(RType::Utils::MessageParsed_s const&) (SocketHandler.cpp:50)
==14750==    by 0x40FC51: RType::Server::Room::sendEntityType(RType::Utils::MessageParsed_s const&) (Room.cpp:276)
==14750==    by 0x40ED46: RType::Server::Room::sendMessageToRoom(RType::Utils::MessageParsed_s const&) (Room.cpp:109)
==14750==    by 0x406676: RType::CoreServer::threadMethod(RType::Utils::MessageParsed_s const&) (CoreServer.cpp:89)
==14750==    by 0x406197: RType::CoreServer::run()::{lambda()#1}::operator()() const (CoreServer.cpp:63)
==14750==    by 0x407653: void std::__invoke_impl<void, RType::CoreServer::run()::{lambda()#1}&>(std::__invoke_other, RType::CoreServer::run()::{lambda()#1}&) (invoke.h:61)
==14750==    by 0x407549: std::enable_if<is_invocable_r_v<void, RType::CoreServer::run()::{lambda()#1}&>, void>::type std::__invoke_r<void, RType::CoreServer::run()::{lambda()#1}&>(RType::CoreServer::run()::{lambda()#1}&) (invoke.h:111)
==14750== 
==14750== Conflicting store by thread 14 at 0x059936a0 size 8
==14750==    at 0x43399F: ShotEntity::~ShotEntity() (ShotEntity.hpp:24)
==14750==    by 0x434745: void __gnu_cxx::new_allocator<ShotEntity>::destroy<ShotEntity>(ShotEntity*) (new_allocator.h:168)
==14750==    by 0x434718: void std::allocator_traits<std::allocator<ShotEntity> >::destroy<ShotEntity>(std::allocator<ShotEntity>&, ShotEntity*) (alloc_traits.h:535)
==14750==    by 0x43460A: std::_Sp_counted_ptr_inplace<ShotEntity, std::allocator<ShotEntity>, (__gnu_cxx::_Lock_policy)2>::_M_dispose() (shared_ptr_base.h:528)
==14750==    by 0x40A61E: std::_Sp_counted_base<(__gnu_cxx::_Lock_policy)2>::_M_release() (shared_ptr_base.h:168)
==14750==    by 0x4095DC: std::__shared_count<(__gnu_cxx::_Lock_policy)2>::~__shared_count() (shared_ptr_base.h:705)
==14750==    by 0x41052B: std::__shared_ptr<IEntity, (__gnu_cxx::_Lock_policy)2>::~__shared_ptr() (shared_ptr_base.h:1154)
==14750==    by 0x410547: std::shared_ptr<IEntity>::~shared_ptr() (shared_ptr.h:122)
==14750==    by 0x410567: std::pair<unsigned short const, std::shared_ptr<IEntity> >::~pair() (stl_pair.h:211)
==14750==    by 0x419757: void __gnu_cxx::new_allocator<std::__detail::_Hash_node<std::pair<unsigned short const, std::shared_ptr<IEntity> >, false> >::destroy<std::pair<unsigned short const, std::shared_ptr<IEntity> > >(std::pair<unsigned short const, std::shared_ptr<IEntity> >*) (new_allocator.h:168)
==14750==    by 0x41841A: void std::allocator_traits<std::allocator<std::__detail::_Hash_node<std::pair<unsigned short const, std::shared_ptr<IEntity> >, false> > >::destroy<std::pair<unsigned short const, std::shared_ptr<IEntity> > >(std::allocator<std::__detail::_Hash_node<std::pair<unsigned short const, std::shared_ptr<IEntity> >, false> >&, std::pair<unsigned short const, std::shared_ptr<IEntity> >*) (alloc_traits.h:535)
==14750==    by 0x416B9A: std::__detail::_Hashtable_alloc<std::allocator<std::__detail::_Hash_node<std::pair<unsigned short const, std::shared_ptr<IEntity> >, false> > >::_M_deallocate_node(std::__detail::_Hash_node<std::pair<unsigned short const, std::shared_ptr<IEntity> >, false>*) (hashtable_policy.h:1894)
==14750== Address 0x59936a0 is at offset 16 from 0x5993690. Allocation context:
==14750==    at 0x4846335: operator new(unsigned long) (vg_replace_malloc.c:422)
==14750==    by 0x4343E3: __gnu_cxx::new_allocator<std::_Sp_counted_ptr_inplace<ShotEntity, std::allocator<ShotEntity>, (__gnu_cxx::_Lock_policy)2> >::allocate(unsigned long, void const*) (new_allocator.h:127)
==14750==    by 0x434230: std::allocator_traits<std::allocator<std::_Sp_counted_ptr_inplace<ShotEntity, std::allocator<ShotEntity>, (__gnu_cxx::_Lock_policy)2> > >::allocate(std::allocator<std::_Sp_counted_ptr_inplace<ShotEntity, std::allocator<ShotEntity>, (__gnu_cxx::_Lock_policy)2> >&, unsigned long) (alloc_traits.h:464)
==14750==    by 0x433FE9: std::__allocated_ptr<std::allocator<std::_Sp_counted_ptr_inplace<ShotEntity, std::allocator<ShotEntity>, (__gnu_cxx::_Lock_policy)2> > > std::__allocate_guarded<std::allocator<std::_Sp_counted_ptr_inplace<ShotEntity, std::allocator<ShotEntity>, (__gnu_cxx::_Lock_policy)2> > >(std::allocator<std::_Sp_counted_ptr_inplace<ShotEntity, std::allocator<ShotEntity>, (__gnu_cxx::_Lock_policy)2> >&) (allocated_ptr.h:98)
==14750==    by 0x433E46: std::__shared_count<(__gnu_cxx::_Lock_policy)2>::__shared_count<ShotEntity, std::allocator<ShotEntity>, Shoot&, char const (&) [21], bool>(ShotEntity*&, std::_Sp_alloc_shared_tag<std::allocator<ShotEntity> >, Shoot&, char const (&) [21], bool&&) (shared_ptr_base.h:648)
==14750==    by 0x433DCF: std::__shared_ptr<ShotEntity, (__gnu_cxx::_Lock_policy)2>::__shared_ptr<std::allocator<ShotEntity>, Shoot&, char const (&) [21], bool>(std::_Sp_alloc_shared_tag<std::allocator<ShotEntity> >, Shoot&, char const (&) [21], bool&&) (shared_ptr_base.h:1342)
==14750==    by 0x433D48: std::shared_ptr<ShotEntity>::shared_ptr<std::allocator<ShotEntity>, Shoot&, char const (&) [21], bool>(std::_Sp_alloc_shared_tag<std::allocator<ShotEntity> >, Shoot&, char const (&) [21], bool&&) (shared_ptr.h:409)
==14750==    by 0x433C38: std::shared_ptr<ShotEntity> std::allocate_shared<ShotEntity, std::allocator<ShotEntity>, Shoot&, char const (&) [21], bool>(std::allocator<ShotEntity> const&, Shoot&, char const (&) [21], bool&&) (shared_ptr.h:863)
==14750==    by 0x433ABF: std::shared_ptr<ShotEntity> std::make_shared<ShotEntity, Shoot&, char const (&) [21], bool>(Shoot&, char const (&) [21], bool&&) (shared_ptr.h:879)
==14750==    by 0x4335FF: BydosSystem::createShots(Bydos&, Player const&, Core&) (BydosSystem.cpp:27)
==14750==    by 0x4423DC: SystemVisitor::visitBydos(Bydos&, Core&) (SystemVisitor.hpp:31)
==14750==    by 0x43AA62: Bydos::accept(IVisitor&, Core&) (Bydos.cpp:31)
==14750== Other segment start (thread 6)
==14750==    at 0x4857675: pthread_cond_wait_intercept (drd_pthread_intercepts.c:1133)
==14750==    by 0x4857675: pthread_cond_wait@* (drd_pthread_intercepts.c:1138)
==14750==    by 0x4A0BB3F: __gthread_cond_wait (gthr-default.h:865)
==14750==    by 0x4A0BB3F: wait (std_mutex.h:155)
==14750==    by 0x4A0BB3F: std::condition_variable::wait(std::unique_lock<std::mutex>&) (condition_variable.cc:41)
==14750==    by 0x41C0E2: void std::condition_variable::wait<RType::Server::ThreadPool::ThreadMain()::{lambda()#1}>(std::unique_lock<std::mutex>&, RType::Server::ThreadPool::ThreadMain()::{lambda()#1}) (condition_variable:103)
==14750==    by 0x41BF2F: RType::Server::ThreadPool::ThreadMain() (ThreadPool.cpp:41)
==14750==    by 0x41E4E9: void std::__invoke_impl<void, void (RType::Server::ThreadPool::*)(), RType::Server::ThreadPool*>(std::__invoke_memfun_deref, void (RType::Server::ThreadPool::*&&)(), RType::Server::ThreadPool*&&) (invoke.h:74)
==14750==    by 0x41E448: std::__invoke_result<void (RType::Server::ThreadPool::*)(), RType::Server::ThreadPool*>::type std::__invoke<void (RType::Server::ThreadPool::*)(), RType::Server::ThreadPool*>(void (RType::Server::ThreadPool::*&&)(), RType::Server::ThreadPool*&&) (invoke.h:96)
==14750==    by 0x41E3B8: void std::thread::_Invoker<std::tuple<void (RType::Server::ThreadPool::*)(), RType::Server::ThreadPool*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) (std_thread.h:253)
==14750==    by 0x41E371: std::thread::_Invoker<std::tuple<void (RType::Server::ThreadPool::*)(), RType::Server::ThreadPool*> >::operator()() (std_thread.h:260)
==14750==    by 0x41E355: std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (RType::Server::ThreadPool::*)(), RType::Server::ThreadPool*> > >::_M_run() (std_thread.h:211)
==14750==    by 0x4A11CA3: execute_native_thread_routine (thread.cc:82)
==14750==    by 0x484BC5A: vgDrd_thread_wrapper (drd_pthread_intercepts.c:491)
==14750==    by 0x49202A4: start_thread (pthread_create.c:481)
==14750== Other segment end (thread 6)
==14750==    at 0x485237C: pthread_mutex_lock_intercept (drd_pthread_intercepts.c:935)
==14750==    by 0x485237C: pthread_mutex_lock (drd_pthread_intercepts.c:945)
==14750==    by 0x40798B: __gthread_mutex_lock(pthread_mutex_t*) (gthr-default.h:749)
==14750==    by 0x4081F1: std::mutex::lock() (std_mutex.h:100)
==14750==    by 0x40B2FA: std::unique_lock<std::mutex>::lock() (unique_lock.h:139)
==14750==    by 0x40A0DE: std::unique_lock<std::mutex>::unique_lock(std::mutex&) (unique_lock.h:69)
==14750==    by 0x421968: RType::Utils::SocketHandler::send(RType::Utils::MessageParsed_s const&) (SocketHandler.cpp:50)
==14750==    by 0x40FC51: RType::Server::Room::sendEntityType(RType::Utils::MessageParsed_s const&) (Room.cpp:276)
==14750==    by 0x40ED46: RType::Server::Room::sendMessageToRoom(RType::Utils::MessageParsed_s const&) (Room.cpp:109)
==14750==    by 0x406676: RType::CoreServer::threadMethod(RType::Utils::MessageParsed_s const&) (CoreServer.cpp:89)
==14750==    by 0x406197: RType::CoreServer::run()::{lambda()#1}::operator()() const (CoreServer.cpp:63)
==14750==    by 0x407653: void std::__invoke_impl<void, RType::CoreServer::run()::{lambda()#1}&>(std::__invoke_other, RType::CoreServer::run()::{lambda()#1}&) (invoke.h:61)
==14750==    by 0x407549: std::enable_if<is_invocable_r_v<void, RType::CoreServer::run()::{lambda()#1}&>, void>::type std::__invoke_r<void, RType::CoreServer::run()::{lambda()#1}&>(RType::CoreServer::run()::{lambda()#1}&) (invoke.h:111)
==14750== Other segment start (thread 6)
==14750==    at 0x4857675: pthread_cond_wait_intercept (drd_pthread_intercepts.c:1133)
==14750==    by 0x4857675: pthread_cond_wait@* (drd_pthread_intercepts.c:1138)
==14750==    by 0x4A0BB3F: __gthread_cond_wait (gthr-default.h:865)
==14750==    by 0x4A0BB3F: wait (std_mutex.h:155)
==14750==    by 0x4A0BB3F: std::condition_variable::wait(std::unique_lock<std::mutex>&) (condition_variable.cc:41)
==14750==    by 0x41C0E2: void std::condition_variable::wait<RType::Server::ThreadPool::ThreadMain()::{lambda()#1}>(std::unique_lock<std::mutex>&, RType::Server::ThreadPool::ThreadMain()::{lambda()#1}) (condition_variable:103)
==14750==    by 0x41BF2F: RType::Server::ThreadPool::ThreadMain() (ThreadPool.cpp:41)
==14750==    by 0x41E4E9: void std::__invoke_impl<void, void (RType::Server::ThreadPool::*)(), RType::Server::ThreadPool*>(std::__invoke_memfun_deref, void (RType::Server::ThreadPool::*&&)(), RType::Server::ThreadPool*&&) (invoke.h:74)
==14750==    by 0x41E448: std::__invoke_result<void (RType::Server::ThreadPool::*)(), RType::Server::ThreadPool*>::type std::__invoke<void (RType::Server::ThreadPool::*)(), RType::Server::ThreadPool*>(void (RType::Server::ThreadPool::*&&)(), RType::Server::ThreadPool*&&) (invoke.h:96)
==14750==    by 0x41E3B8: void std::thread::_Invoker<std::tuple<void (RType::Server::ThreadPool::*)(), RType::Server::ThreadPool*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) (std_thread.h:253)
==14750==    by 0x41E371: std::thread::_Invoker<std::tuple<void (RType::Server::ThreadPool::*)(), RType::Server::ThreadPool*> >::operator()() (std_thread.h:260)
==14750==    by 0x41E355: std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (RType::Server::ThreadPool::*)(), RType::Server::ThreadPool*> > >::_M_run() (std_thread.h:211)
==14750==    by 0x4A11CA3: execute_native_thread_routine (thread.cc:82)
==14750==    by 0x484BC5A: vgDrd_thread_wrapper (drd_pthread_intercepts.c:491)
==14750==    by 0x49202A4: start_thread (pthread_create.c:481)
==14750== Other segment end (thread 6)
==14750==    at 0x485237C: pthread_mutex_lock_intercept (drd_pthread_intercepts.c:935)
==14750==    by 0x485237C: pthread_mutex_lock (drd_pthread_intercepts.c:945)
==14750==    by 0x40798B: __gthread_mutex_lock(pthread_mutex_t*) (gthr-default.h:749)
==14750==    by 0x4081F1: std::mutex::lock() (std_mutex.h:100)
==14750==    by 0x40B2FA: std::unique_lock<std::mutex>::lock() (unique_lock.h:139)
==14750==    by 0x40A0DE: std::unique_lock<std::mutex>::unique_lock(std::mutex&) (unique_lock.h:69)
==14750==    by 0x421968: RType::Utils::SocketHandler::send(RType::Utils::MessageParsed_s const&) (SocketHandler.cpp:50)
==14750==    by 0x40FC51: RType::Server::Room::sendEntityType(RType::Utils::MessageParsed_s const&) (Room.cpp:276)
==14750==    by 0x40ED46: RType::Server::Room::sendMessageToRoom(RType::Utils::MessageParsed_s const&) (Room.cpp:109)
==14750==    by 0x406676: RType::CoreServer::threadMethod(RType::Utils::MessageParsed_s const&) (CoreServer.cpp:89)
==14750==    by 0x406197: RType::CoreServer::run()::{lambda()#1}::operator()() const (CoreServer.cpp:63)
==14750==    by 0x407653: void std::__invoke_impl<void, RType::CoreServer::run()::{lambda()#1}&>(std::__invoke_other, RType::CoreServer::run()::{lambda()#1}&) (invoke.h:61)
==14750==    by 0x407549: std::enable_if<is_invocable_r_v<void, RType::CoreServer::run()::{lambda()#1}&>, void>::type std::__invoke_r<void, RType::CoreServer::run()::{lambda()#1}&>(RType::CoreServer::run()::{lambda()#1}&) (invoke.h:111)
==14750== 
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Entity not not well positionned
Delete a bydos
Delete a bydos
Add new bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Entity not not well positionned
Delete a bydos
Delete a bydos
Add new bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
==14750== Thread 6:
==14750== Conflicting load by thread 6 at 0x056c7890 size 8
==14750==    at 0x43EDD8: __gnu_cxx::__normal_iterator<unsigned short*, std::vector<unsigned short, std::allocator<unsigned short> > >::__normal_iterator(unsigned short* const&) (stl_iterator.h:1011)
==14750==    by 0x43E85A: std::vector<unsigned short, std::allocator<unsigned short> >::end() (stl_vector.h:830)
==14750==    by 0x44152F: RType::RTypeGameLoop::getEntityType(unsigned short) (RTypeGameLoop.cpp:70)
==14750==    by 0x40FC1E: RType::Server::Room::sendEntityType(RType::Utils::MessageParsed_s const&) (Room.cpp:275)
==14750==    by 0x40ED46: RType::Server::Room::sendMessageToRoom(RType::Utils::MessageParsed_s const&) (Room.cpp:109)
==14750==    by 0x406676: RType::CoreServer::threadMethod(RType::Utils::MessageParsed_s const&) (CoreServer.cpp:89)
==14750==    by 0x406197: RType::CoreServer::run()::{lambda()#1}::operator()() const (CoreServer.cpp:63)
==14750==    by 0x407653: void std::__invoke_impl<void, RType::CoreServer::run()::{lambda()#1}&>(std::__invoke_other, RType::CoreServer::run()::{lambda()#1}&) (invoke.h:61)
==14750==    by 0x407549: std::enable_if<is_invocable_r_v<void, RType::CoreServer::run()::{lambda()#1}&>, void>::type std::__invoke_r<void, RType::CoreServer::run()::{lambda()#1}&>(RType::CoreServer::run()::{lambda()#1}&) (invoke.h:111)
==14750==    by 0x4073E6: std::_Function_handler<void (), RType::CoreServer::run()::{lambda()#1}>::_M_invoke(std::_Any_data const&) (std_function.h:290)
==14750==    by 0x41C5BF: std::function<void ()>::operator()() const (std_function.h:590)
==14750==    by 0x41BFB2: RType::Server::ThreadPool::ThreadMain() (ThreadPool.cpp:51)
==14750== Address 0x56c7890 is at offset 656 from 0x56c7600. Allocation context:
==14750==    at 0x4846335: operator new(unsigned long) (vg_replace_malloc.c:422)
==14750==    by 0x41137D: std::_MakeUniq<RType::RTypeGameLoop>::__single_object std::make_unique<RType::RTypeGameLoop, Core&>(Core&) (unique_ptr.h:962)
==14750==    by 0x40E1C6: RType::Server::Room::Room(unsigned char, unsigned char, std::shared_ptr<RType::Utils::SocketHandler>) (Room.cpp:22)
==14750==    by 0x40A2C7: std::_MakeUniq<RType::Server::Room>::__single_object std::make_unique<RType::Server::Room, unsigned char const&, RType::Server::basesValues, std::shared_ptr<RType::Utils::SocketHandler> >(unsigned char const&, RType::Server::basesValues&&, std::shared_ptr<RType::Utils::SocketHandler>&&) (unique_ptr.h:962)
==14750==    by 0x4069C7: RType::CoreServer::newRoomCreated(RType::Utils::MessageParsed_s const&) (CoreServer.cpp:115)
==14750==    by 0x40657D: RType::CoreServer::threadMethod(RType::Utils::MessageParsed_s const&) (CoreServer.cpp:82)
==14750==    by 0x406197: RType::CoreServer::run()::{lambda()#1}::operator()() const (CoreServer.cpp:63)
==14750==    by 0x407653: void std::__invoke_impl<void, RType::CoreServer::run()::{lambda()#1}&>(std::__invoke_other, RType::CoreServer::run()::{lambda()#1}&) (invoke.h:61)
==14750==    by 0x407549: std::enable_if<is_invocable_r_v<void, RType::CoreServer::run()::{lambda()#1}&>, void>::type std::__invoke_r<void, RType::CoreServer::run()::{lambda()#1}&>(RType::CoreServer::run()::{lambda()#1}&) (invoke.h:111)
==14750==    by 0x4073E6: std::_Function_handler<void (), RType::CoreServer::run()::{lambda()#1}>::_M_invoke(std::_Any_data const&) (std_function.h:290)
==14750==    by 0x41C5BF: std::function<void ()>::operator()() const (std_function.h:590)
==14750==    by 0x41BFB2: RType::Server::ThreadPool::ThreadMain() (ThreadPool.cpp:51)
==14750== Other segment start (thread 14)
==14750==    at 0x4855018: pthread_mutex_unlock_intercept (drd_pthread_intercepts.c:1025)
==14750==    by 0x4855018: pthread_mutex_unlock (drd_pthread_intercepts.c:1038)
==14750==    by 0x4079BA: __gthread_mutex_unlock(pthread_mutex_t*) (gthr-default.h:779)
==14750==    by 0x40821F: std::mutex::unlock() (std_mutex.h:118)
==14750==    by 0x40B345: std::unique_lock<std::mutex>::unlock() (unique_lock.h:195)
==14750==    by 0x40A10D: std::unique_lock<std::mutex>::~unique_lock() (unique_lock.h:104)
==14750==    by 0x41ED9E: Core::removeEntityLater(unsigned short) (Core.cpp:75)
==14750==    by 0x441811: RType::RTypeGameLoop::handleBydos(std::queue<RType::Utils::MessageParsed_s, std::deque<RType::Utils::MessageParsed_s, std::allocator<RType::Utils::MessageParsed_s> > >&) (RTypeGameLoop.cpp:94)
==14750==    by 0x441172: RType::RTypeGameLoop::runAfterUpdate(std::queue<std::pair<unsigned short, RType::Utils::MessageParsed_s>, std::deque<std::pair<unsigned short, RType::Utils::MessageParsed_s>, std::allocator<std::pair<unsigned short, RType::Utils::MessageParsed_s> > > >) (RTypeGameLoop.cpp:43)
==14750==    by 0x43E1B8: RType::GameLoop::updateGameLoop(std::queue<std::pair<unsigned short, RType::Utils::MessageParsed_s>, std::deque<std::pair<unsigned short, RType::Utils::MessageParsed_s>, std::allocator<std::pair<unsigned short, RType::Utils::MessageParsed_s> > > >) (GameLoop.cpp:33)
==14750==    by 0x40F1AE: RType::Server::Room::runRoom() (Room.cpp:153)
==14750==    by 0x41BBF5: void std::__invoke_impl<void, void (RType::Server::Room::*)(), RType::Server::Room*>(std::__invoke_memfun_deref, void (RType::Server::Room::*&&)(), RType::Server::Room*&&) (invoke.h:74)
==14750==    by 0x41BB54: std::__invoke_result<void (RType::Server::Room::*)(), RType::Server::Room*>::type std::__invoke<void (RType::Server::Room::*)(), RType::Server::Room*>(void (RType::Server::Room::*&&)(), RType::Server::Room*&&) (invoke.h:96)
==14750== Other segment end (thread 14)
==14750==    at 0x4DA934F: __libc_write (write.c:26)
==14750==    by 0x4DA934F: write (write.c:24)
==14750==    by 0x4D397BC: _IO_file_write@@GLIBC_2.2.5 (fileops.c:1181)
==14750==    by 0x4D38B35: new_do_write (fileops.c:449)
==14750==    by 0x4D3A858: _IO_new_do_write (fileops.c:426)
==14750==    by 0x4D3A858: _IO_do_write@@GLIBC_2.2.5 (fileops.c:423)
==14750==    by 0x4D38957: _IO_file_sync@@GLIBC_2.2.5 (fileops.c:799)
==14750==    by 0x4D2D8D5: fflush (iofflush.c:40)
==14750==    by 0x4A6D372: pubsync (streambuf:276)
==14750==    by 0x4A6D372: std::ostream::flush() (ostream.tcc:219)
==14750==    by 0x441A2F: RType::RTypeGameLoop::handleBydos(std::queue<RType::Utils::MessageParsed_s, std::deque<RType::Utils::MessageParsed_s, std::allocator<RType::Utils::MessageParsed_s> > >&) (RTypeGameLoop.cpp:110)
==14750==    by 0x441172: RType::RTypeGameLoop::runAfterUpdate(std::queue<std::pair<unsigned short, RType::Utils::MessageParsed_s>, std::deque<std::pair<unsigned short, RType::Utils::MessageParsed_s>, std::allocator<std::pair<unsigned short, RType::Utils::MessageParsed_s> > > >) (RTypeGameLoop.cpp:43)
==14750==    by 0x43E1B8: RType::GameLoop::updateGameLoop(std::queue<std::pair<unsigned short, RType::Utils::MessageParsed_s>, std::deque<std::pair<unsigned short, RType::Utils::MessageParsed_s>, std::allocator<std::pair<unsigned short, RType::Utils::MessageParsed_s> > > >) (GameLoop.cpp:33)
==14750==    by 0x40F1AE: RType::Server::Room::runRoom() (Room.cpp:153)
==14750==    by 0x41BBF5: void std::__invoke_impl<void, void (RType::Server::Room::*)(), RType::Server::Room*>(std::__invoke_memfun_deref, void (RType::Server::Room::*&&)(), RType::Server::Room*&&) (invoke.h:74)
==14750== 
==14750== Conflicting load by thread 6 at 0x056e5850 size 2
==14750==    at 0x441542: RType::RTypeGameLoop::getEntityType(unsigned short) (RTypeGameLoop.cpp:70)
==14750==    by 0x40FC1E: RType::Server::Room::sendEntityType(RType::Utils::MessageParsed_s const&) (Room.cpp:275)
==14750==    by 0x40ED46: RType::Server::Room::sendMessageToRoom(RType::Utils::MessageParsed_s const&) (Room.cpp:109)
==14750==    by 0x406676: RType::CoreServer::threadMethod(RType::Utils::MessageParsed_s const&) (CoreServer.cpp:89)
==14750==    by 0x406197: RType::CoreServer::run()::{lambda()#1}::operator()() const (CoreServer.cpp:63)
==14750==    by 0x407653: void std::__invoke_impl<void, RType::CoreServer::run()::{lambda()#1}&>(std::__invoke_other, RType::CoreServer::run()::{lambda()#1}&) (invoke.h:61)
==14750==    by 0x407549: std::enable_if<is_invocable_r_v<void, RType::CoreServer::run()::{lambda()#1}&>, void>::type std::__invoke_r<void, RType::CoreServer::run()::{lambda()#1}&>(RType::CoreServer::run()::{lambda()#1}&) (invoke.h:111)
==14750==    by 0x4073E6: std::_Function_handler<void (), RType::CoreServer::run()::{lambda()#1}>::_M_invoke(std::_Any_data const&) (std_function.h:290)
==14750==    by 0x41C5BF: std::function<void ()>::operator()() const (std_function.h:590)
==14750==    by 0x41BFB2: RType::Server::ThreadPool::ThreadMain() (ThreadPool.cpp:51)
==14750==    by 0x41E4E9: void std::__invoke_impl<void, void (RType::Server::ThreadPool::*)(), RType::Server::ThreadPool*>(std::__invoke_memfun_deref, void (RType::Server::ThreadPool::*&&)(), RType::Server::ThreadPool*&&) (invoke.h:74)
==14750==    by 0x41E448: std::__invoke_result<void (RType::Server::ThreadPool::*)(), RType::Server::ThreadPool*>::type std::__invoke<void (RType::Server::ThreadPool::*)(), RType::Server::ThreadPool*>(void (RType::Server::ThreadPool::*&&)(), RType::Server::ThreadPool*&&) (invoke.h:96)
==14750== Address 0x56e5850 is at offset 0 from 0x56e5850. Allocation context:
==14750==    at 0x4846335: operator new(unsigned long) (vg_replace_malloc.c:422)
==14750==    by 0x41A895: __gnu_cxx::new_allocator<unsigned short>::allocate(unsigned long, void const*) (new_allocator.h:127)
==14750==    by 0x4198A4: std::allocator_traits<std::allocator<unsigned short> >::allocate(std::allocator<unsigned short>&, unsigned long) (alloc_traits.h:464)
==14750==    by 0x43F67F: std::_Vector_base<unsigned short, std::allocator<unsigned short> >::_M_allocate(unsigned long) (stl_vector.h:346)
==14750==    by 0x43EE73: void std::vector<unsigned short, std::allocator<unsigned short> >::_M_realloc_insert<unsigned short const&>(__gnu_cxx::__normal_iterator<unsigned short*, std::vector<unsigned short, std::allocator<unsigned short> > >, unsigned short const&) (vector.tcc:440)
==14750==    by 0x43E963: std::vector<unsigned short, std::allocator<unsigned short> >::push_back(unsigned short const&) (stl_vector.h:1198)
==14750==    by 0x441A69: RType::RTypeGameLoop::handleBydos(std::queue<RType::Utils::MessageParsed_s, std::deque<RType::Utils::MessageParsed_s, std::allocator<RType::Utils::MessageParsed_s> > >&) (RTypeGameLoop.cpp:112)
==14750==    by 0x441172: RType::RTypeGameLoop::runAfterUpdate(std::queue<std::pair<unsigned short, RType::Utils::MessageParsed_s>, std::deque<std::pair<unsigned short, RType::Utils::MessageParsed_s>, std::allocator<std::pair<unsigned short, RType::Utils::MessageParsed_s> > > >) (RTypeGameLoop.cpp:43)
==14750==    by 0x43E1B8: RType::GameLoop::updateGameLoop(std::queue<std::pair<unsigned short, RType::Utils::MessageParsed_s>, std::deque<std::pair<unsigned short, RType::Utils::MessageParsed_s>, std::allocator<std::pair<unsigned short, RType::Utils::MessageParsed_s> > > >) (GameLoop.cpp:33)
==14750==    by 0x40F1AE: RType::Server::Room::runRoom() (Room.cpp:153)
==14750==    by 0x41BBF5: void std::__invoke_impl<void, void (RType::Server::Room::*)(), RType::Server::Room*>(std::__invoke_memfun_deref, void (RType::Server::Room::*&&)(), RType::Server::Room*&&) (invoke.h:74)
==14750==    by 0x41BB54: std::__invoke_result<void (RType::Server::Room::*)(), RType::Server::Room*>::type std::__invoke<void (RType::Server::Room::*)(), RType::Server::Room*>(void (RType::Server::Room::*&&)(), RType::Server::Room*&&) (invoke.h:96)
==14750== Other segment start (thread 14)
==14750==    at 0x4855018: pthread_mutex_unlock_intercept (drd_pthread_intercepts.c:1025)
==14750==    by 0x4855018: pthread_mutex_unlock (drd_pthread_intercepts.c:1038)
==14750==    by 0x4079BA: __gthread_mutex_unlock(pthread_mutex_t*) (gthr-default.h:779)
==14750==    by 0x40821F: std::mutex::unlock() (std_mutex.h:118)
==14750==    by 0x40B345: std::unique_lock<std::mutex>::unlock() (unique_lock.h:195)
==14750==    by 0x40A10D: std::unique_lock<std::mutex>::~unique_lock() (unique_lock.h:104)
==14750==    by 0x41ED9E: Core::removeEntityLater(unsigned short) (Core.cpp:75)
==14750==    by 0x441811: RType::RTypeGameLoop::handleBydos(std::queue<RType::Utils::MessageParsed_s, std::deque<RType::Utils::MessageParsed_s, std::allocator<RType::Utils::MessageParsed_s> > >&) (RTypeGameLoop.cpp:94)
==14750==    by 0x441172: RType::RTypeGameLoop::runAfterUpdate(std::queue<std::pair<unsigned short, RType::Utils::MessageParsed_s>, std::deque<std::pair<unsigned short, RType::Utils::MessageParsed_s>, std::allocator<std::pair<unsigned short, RType::Utils::MessageParsed_s> > > >) (RTypeGameLoop.cpp:43)
==14750==    by 0x43E1B8: RType::GameLoop::updateGameLoop(std::queue<std::pair<unsigned short, RType::Utils::MessageParsed_s>, std::deque<std::pair<unsigned short, RType::Utils::MessageParsed_s>, std::allocator<std::pair<unsigned short, RType::Utils::MessageParsed_s> > > >) (GameLoop.cpp:33)
==14750==    by 0x40F1AE: RType::Server::Room::runRoom() (Room.cpp:153)
==14750==    by 0x41BBF5: void std::__invoke_impl<void, void (RType::Server::Room::*)(), RType::Server::Room*>(std::__invoke_memfun_deref, void (RType::Server::Room::*&&)(), RType::Server::Room*&&) (invoke.h:74)
==14750==    by 0x41BB54: std::__invoke_result<void (RType::Server::Room::*)(), RType::Server::Room*>::type std::__invoke<void (RType::Server::Room::*)(), RType::Server::Room*>(void (RType::Server::Room::*&&)(), RType::Server::Room*&&) (invoke.h:96)
==14750== Other segment end (thread 14)
==14750==    at 0x4DA934F: __libc_write (write.c:26)
==14750==    by 0x4DA934F: write (write.c:24)
==14750==    by 0x4D397BC: _IO_file_write@@GLIBC_2.2.5 (fileops.c:1181)
==14750==    by 0x4D38B35: new_do_write (fileops.c:449)
==14750==    by 0x4D3A858: _IO_new_do_write (fileops.c:426)
==14750==    by 0x4D3A858: _IO_do_write@@GLIBC_2.2.5 (fileops.c:423)
==14750==    by 0x4D38957: _IO_file_sync@@GLIBC_2.2.5 (fileops.c:799)
==14750==    by 0x4D2D8D5: fflush (iofflush.c:40)
==14750==    by 0x4A6D372: pubsync (streambuf:276)
==14750==    by 0x4A6D372: std::ostream::flush() (ostream.tcc:219)
==14750==    by 0x441A2F: RType::RTypeGameLoop::handleBydos(std::queue<RType::Utils::MessageParsed_s, std::deque<RType::Utils::MessageParsed_s, std::allocator<RType::Utils::MessageParsed_s> > >&) (RTypeGameLoop.cpp:110)
==14750==    by 0x441172: RType::RTypeGameLoop::runAfterUpdate(std::queue<std::pair<unsigned short, RType::Utils::MessageParsed_s>, std::deque<std::pair<unsigned short, RType::Utils::MessageParsed_s>, std::allocator<std::pair<unsigned short, RType::Utils::MessageParsed_s> > > >) (RTypeGameLoop.cpp:43)
==14750==    by 0x43E1B8: RType::GameLoop::updateGameLoop(std::queue<std::pair<unsigned short, RType::Utils::MessageParsed_s>, std::deque<std::pair<unsigned short, RType::Utils::MessageParsed_s>, std::allocator<std::pair<unsigned short, RType::Utils::MessageParsed_s> > > >) (GameLoop.cpp:33)
==14750==    by 0x40F1AE: RType::Server::Room::runRoom() (Room.cpp:153)
==14750==    by 0x41BBF5: void std::__invoke_impl<void, void (RType::Server::Room::*)(), RType::Server::Room*>(std::__invoke_memfun_deref, void (RType::Server::Room::*&&)(), RType::Server::Room*&&) (invoke.h:74)
==14750== 
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Ending byte 255
Entity not not well positionned
Delete a bydos
Add new bydos
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Delete a bydos
Add new bydos
Entity not not well positionned
Entity not not well positionned
Entity not not well positionned
Delete a bydos
Delete a bydos
Delete a bydos
Add new bydos
Add new bydos
Add new bydos
==14750== Thread 14:
==14750== Conflicting store by thread 14 at 0x00472574 size 1
==14750==    at 0x405C66: SigIntHandler(int) (CoreServer.cpp:21)
==14750==    by 0x4CF531F: ??? (in /usr/lib64/libc-2.33.so)
==14750==    by 0x4929E21: sendto (sendto.c:27)
==14750==    by 0x429A17: long boost::asio::detail::socket_ops::call_sendto<unsigned int>(unsigned int msghdr::*, int, void const*, unsigned long, int, sockaddr const*, unsigned long) (socket_ops.ipp:1634)
==14750==    by 0x426997: boost::asio::detail::socket_ops::sendto1(int, void const*, unsigned long, int, sockaddr const*, unsigned long, boost::system::error_code&) (socket_ops.ipp:1663)
==14750==    by 0x426A23: boost::asio::detail::socket_ops::sync_sendto1(int, unsigned char, void const*, unsigned long, int, sockaddr const*, unsigned long, boost::system::error_code&) (socket_ops.ipp:1717)
==14750==    by 0x42B180: unsigned long boost::asio::detail::reactive_socket_service<boost::asio::ip::udp>::send_to<boost::asio::const_buffer>(boost::asio::detail::reactive_socket_service<boost::asio::ip::udp>::implementation_type&, boost::asio::const_buffer const&, boost::asio::ip::basic_endpoint<boost::asio::ip::udp> const&, int, boost::system::error_code&) (reactive_socket_service.hpp:228)
==14750==    by 0x42A2FA: unsigned long boost::asio::basic_datagram_socket<boost::asio::ip::udp, boost::asio::execution::any_executor<boost::asio::execution::context_as_t<boost::asio::execution_context&>, boost::asio::execution::detail::blocking::never_t<0>, boost::asio::execution::prefer_only<boost::asio::execution::detail::blocking::possibly_t<0> >, boost::asio::execution::prefer_only<boost::asio::execution::detail::outstanding_work::tracked_t<0> >, boost::asio::execution::prefer_only<boost::asio::execution::detail::outstanding_work::untracked_t<0> >, boost::asio::execution::prefer_only<boost::asio::execution::detail::relationship::fork_t<0> >, boost::asio::execution::prefer_only<boost::asio::execution::detail::relationship::continuation_t<0> > > >::send_to<boost::asio::const_buffer>(boost::asio::const_buffer const&, boost::asio::ip::basic_endpoint<boost::asio::ip::udp> const&) (basic_datagram_socket.hpp:541)
==14750==    by 0x4219CE: RType::Utils::SocketHandler::send(RType::Utils::MessageParsed_s const&) (SocketHandler.cpp:52)
==14750==    by 0x40F6D2: RType::Server::Room::notifyAllPlayer(RType::Utils::MessageParsed_s const&) (Room.cpp:218)
==14750==    by 0x40F215: RType::Server::Room::runRoom() (Room.cpp:156)
==14750==    by 0x41BBF5: void std::__invoke_impl<void, void (RType::Server::Room::*)(), RType::Server::Room*>(std::__invoke_memfun_deref, void (RType::Server::Room::*&&)(), RType::Server::Room*&&) (invoke.h:74)
==14750== Allocation context: Data section of /home/cote2porc/Delivery/actual/rtypeclient/B-CPP-500-MLH-5-1-rtype-robin.denni/r-type_server
==14750== Other segment start (thread 1)
==14750==    at 0x4855018: pthread_mutex_unlock_intercept (drd_pthread_intercepts.c:1025)
==14750==    by 0x4855018: pthread_mutex_unlock (drd_pthread_intercepts.c:1038)
==14750==    by 0x4079BA: __gthread_mutex_unlock(pthread_mutex_t*) (gthr-default.h:779)
==14750==    by 0x40821F: std::mutex::unlock() (std_mutex.h:118)
==14750==    by 0x40B345: std::unique_lock<std::mutex>::unlock() (unique_lock.h:195)
==14750==    by 0x40A10D: std::unique_lock<std::mutex>::~unique_lock() (unique_lock.h:104)
==14750==    by 0x4062CB: RType::CoreServer::run() (CoreServer.cpp:64)
==14750==    by 0x406023: RType::CoreServer::CoreServer(int, char**) (CoreServer.cpp:45)
==14750==    by 0x41E591: main (main.cpp:13)
==14750== Other segment end (thread 1)
==14750==    at 0x485237C: pthread_mutex_lock_intercept (drd_pthread_intercepts.c:935)
==14750==    by 0x485237C: pthread_mutex_lock (drd_pthread_intercepts.c:945)
==14750==    by 0x40798B: __gthread_mutex_lock(pthread_mutex_t*) (gthr-default.h:749)
==14750==    by 0x4081F1: std::mutex::lock() (std_mutex.h:100)
==14750==    by 0x40B2FA: std::unique_lock<std::mutex>::lock() (unique_lock.h:139)
==14750==    by 0x40A0DE: std::unique_lock<std::mutex>::unique_lock(std::mutex&) (unique_lock.h:69)
==14750==    by 0x421801: RType::Utils::SocketHandler::receive() (SocketHandler.cpp:40)
==14750==    by 0x4061FB: RType::CoreServer::run() (CoreServer.cpp:57)
==14750==    by 0x406023: RType::CoreServer::CoreServer(int, char**) (CoreServer.cpp:45)
==14750==    by 0x41E591: main (main.cpp:13)
==14750== 
==14750== Thread 1:
==14750== Conflicting store by thread 1 at 0x056c6d4a size 1
==14750==    at 0x40F9EF: RType::Server::Room::setDestroy() (Room.cpp:253)
==14750==    by 0x4063C0: RType::CoreServer::run() (CoreServer.cpp:71)
==14750==    by 0x406023: RType::CoreServer::CoreServer(int, char**) (CoreServer.cpp:45)
==14750==    by 0x41E591: main (main.cpp:13)
==14750== Address 0x56c6d4a is at offset 426 from 0x56c6ba0. Allocation context:
==14750==    at 0x4846335: operator new(unsigned long) (vg_replace_malloc.c:422)
==14750==    by 0x40A2B3: std::_MakeUniq<RType::Server::Room>::__single_object std::make_unique<RType::Server::Room, unsigned char const&, RType::Server::basesValues, std::shared_ptr<RType::Utils::SocketHandler> >(unsigned char const&, RType::Server::basesValues&&, std::shared_ptr<RType::Utils::SocketHandler>&&) (unique_ptr.h:962)
==14750==    by 0x4069C7: RType::CoreServer::newRoomCreated(RType::Utils::MessageParsed_s const&) (CoreServer.cpp:115)
==14750==    by 0x40657D: RType::CoreServer::threadMethod(RType::Utils::MessageParsed_s const&) (CoreServer.cpp:82)
==14750==    by 0x406197: RType::CoreServer::run()::{lambda()#1}::operator()() const (CoreServer.cpp:63)
==14750==    by 0x407653: void std::__invoke_impl<void, RType::CoreServer::run()::{lambda()#1}&>(std::__invoke_other, RType::CoreServer::run()::{lambda()#1}&) (invoke.h:61)
==14750==    by 0x407549: std::enable_if<is_invocable_r_v<void, RType::CoreServer::run()::{lambda()#1}&>, void>::type std::__invoke_r<void, RType::CoreServer::run()::{lambda()#1}&>(RType::CoreServer::run()::{lambda()#1}&) (invoke.h:111)
==14750==    by 0x4073E6: std::_Function_handler<void (), RType::CoreServer::run()::{lambda()#1}>::_M_invoke(std::_Any_data const&) (std_function.h:290)
==14750==    by 0x41C5BF: std::function<void ()>::operator()() const (std_function.h:590)
==14750==    by 0x41BFB2: RType::Server::ThreadPool::ThreadMain() (ThreadPool.cpp:51)
==14750==    by 0x41E4E9: void std::__invoke_impl<void, void (RType::Server::ThreadPool::*)(), RType::Server::ThreadPool*>(std::__invoke_memfun_deref, void (RType::Server::ThreadPool::*&&)(), RType::Server::ThreadPool*&&) (invoke.h:74)
==14750==    by 0x41E448: std::__invoke_result<void (RType::Server::ThreadPool::*)(), RType::Server::ThreadPool*>::type std::__invoke<void (RType::Server::ThreadPool::*)(), RType::Server::ThreadPool*>(void (RType::Server::ThreadPool::*&&)(), RType::Server::ThreadPool*&&) (invoke.h:96)
==14750== Other segment start (thread 14)
==14750==    at 0x4855018: pthread_mutex_unlock_intercept (drd_pthread_intercepts.c:1025)
==14750==    by 0x4855018: pthread_mutex_unlock (drd_pthread_intercepts.c:1038)
==14750==    by 0x4079BA: __gthread_mutex_unlock(pthread_mutex_t*) (gthr-default.h:779)
==14750==    by 0x40821F: std::mutex::unlock() (std_mutex.h:118)
==14750==    by 0x40B345: std::unique_lock<std::mutex>::unlock() (unique_lock.h:195)
==14750==    by 0x40A10D: std::unique_lock<std::mutex>::~unique_lock() (unique_lock.h:104)
==14750==    by 0x40F258: RType::Server::Room::runRoom() (Room.cpp:159)
==14750==    by 0x41BBF5: void std::__invoke_impl<void, void (RType::Server::Room::*)(), RType::Server::Room*>(std::__invoke_memfun_deref, void (RType::Server::Room::*&&)(), RType::Server::Room*&&) (invoke.h:74)
==14750==    by 0x41BB54: std::__invoke_result<void (RType::Server::Room::*)(), RType::Server::Room*>::type std::__invoke<void (RType::Server::Room::*)(), RType::Server::Room*>(void (RType::Server::Room::*&&)(), RType::Server::Room*&&) (invoke.h:96)
==14750==    by 0x41BAC4: void std::thread::_Invoker<std::tuple<void (RType::Server::Room::*)(), RType::Server::Room*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) (std_thread.h:253)
==14750==    by 0x41BA4F: std::thread::_Invoker<std::tuple<void (RType::Server::Room::*)(), RType::Server::Room*> >::operator()() (std_thread.h:260)
==14750==    by 0x41B9F3: std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (RType::Server::Room::*)(), RType::Server::Room*> > >::_M_run() (std_thread.h:211)
==14750==    by 0x4A11CA3: execute_native_thread_routine (thread.cc:82)
==14750== Other segment end (thread 14)
==14750==    at 0x485237C: pthread_mutex_lock_intercept (drd_pthread_intercepts.c:935)
==14750==    by 0x485237C: pthread_mutex_lock (drd_pthread_intercepts.c:945)
==14750==    by 0x40798B: __gthread_mutex_lock(pthread_mutex_t*) (gthr-default.h:749)
==14750==    by 0x4081F1: std::mutex::lock() (std_mutex.h:100)
==14750==    by 0x40B2FA: std::unique_lock<std::mutex>::lock() (unique_lock.h:139)
==14750==    by 0x40A0DE: std::unique_lock<std::mutex>::unique_lock(std::mutex&) (unique_lock.h:69)
==14750==    by 0x41E904: Core::getAvailabeIndex() (Core.cpp:21)
==14750==    by 0x4335DC: BydosSystem::createShots(Bydos&, Player const&, Core&) (BydosSystem.cpp:27)
==14750==    by 0x4423DC: SystemVisitor::visitBydos(Bydos&, Core&) (SystemVisitor.hpp:31)
==14750==    by 0x43AA62: Bydos::accept(IVisitor&, Core&) (Bydos.cpp:31)
==14750==    by 0x441204: RType::RTypeGameLoop::runAfterUpdate(std::queue<std::pair<unsigned short, RType::Utils::MessageParsed_s>, std::deque<std::pair<unsigned short, RType::Utils::MessageParsed_s>, std::allocator<std::pair<unsigned short, RType::Utils::MessageParsed_s> > > >) (RTypeGameLoop.cpp:45)
==14750==    by 0x43E1B8: RType::GameLoop::updateGameLoop(std::queue<std::pair<unsigned short, RType::Utils::MessageParsed_s>, std::deque<std::pair<unsigned short, RType::Utils::MessageParsed_s>, std::allocator<std::pair<unsigned short, RType::Utils::MessageParsed_s> > > >) (GameLoop.cpp:33)
==14750==    by 0x40F1AE: RType::Server::Room::runRoom() (Room.cpp:153)
==14750== 
==14750== Probably a race condition: condition variable 0x56c5b48 has been signaled but the associated mutex 0x56c5bc8 is not locked by the signalling thread.
==14750==    at 0x485988B: pthread_cond_broadcast_intercept (drd_pthread_intercepts.c:1213)
==14750==    by 0x485988B: pthread_cond_broadcast@* (drd_pthread_intercepts.c:1226)
==14750==    by 0x4A0BBBC: __gthread_cond_broadcast (gthr-default.h:853)
==14750==    by 0x4A0BBBC: notify_all (std_mutex.h:184)
==14750==    by 0x4A0BBBC: std::condition_variable::notify_all() (condition_variable.cc:53)
==14750==    by 0x41BE19: RType::Server::ThreadPool::CloseThreadPool() (ThreadPool.cpp:26)
==14750==    by 0x406131: RType::CoreServer::~CoreServer() (CoreServer.cpp:51)
==14750==    by 0x41E59D: main (main.cpp:14)
==14750== cond 0x56c5b48 was first observed at:
==14750==    at 0x48575B2: pthread_cond_wait_intercept (drd_pthread_intercepts.c:1130)
==14750==    by 0x48575B2: pthread_cond_wait@* (drd_pthread_intercepts.c:1138)
==14750==    by 0x4A0BB3F: __gthread_cond_wait (gthr-default.h:865)
==14750==    by 0x4A0BB3F: wait (std_mutex.h:155)
==14750==    by 0x4A0BB3F: std::condition_variable::wait(std::unique_lock<std::mutex>&) (condition_variable.cc:41)
==14750==    by 0x41C0E2: void std::condition_variable::wait<RType::Server::ThreadPool::ThreadMain()::{lambda()#1}>(std::unique_lock<std::mutex>&, RType::Server::ThreadPool::ThreadMain()::{lambda()#1}) (condition_variable:103)
==14750==    by 0x41BF2F: RType::Server::ThreadPool::ThreadMain() (ThreadPool.cpp:41)
==14750==    by 0x41E4E9: void std::__invoke_impl<void, void (RType::Server::ThreadPool::*)(), RType::Server::ThreadPool*>(std::__invoke_memfun_deref, void (RType::Server::ThreadPool::*&&)(), RType::Server::ThreadPool*&&) (invoke.h:74)
==14750==    by 0x41E448: std::__invoke_result<void (RType::Server::ThreadPool::*)(), RType::Server::ThreadPool*>::type std::__invoke<void (RType::Server::ThreadPool::*)(), RType::Server::ThreadPool*>(void (RType::Server::ThreadPool::*&&)(), RType::Server::ThreadPool*&&) (invoke.h:96)
==14750==    by 0x41E3B8: void std::thread::_Invoker<std::tuple<void (RType::Server::ThreadPool::*)(), RType::Server::ThreadPool*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) (std_thread.h:253)
==14750==    by 0x41E371: std::thread::_Invoker<std::tuple<void (RType::Server::ThreadPool::*)(), RType::Server::ThreadPool*> >::operator()() (std_thread.h:260)
==14750==    by 0x41E355: std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (RType::Server::ThreadPool::*)(), RType::Server::ThreadPool*> > >::_M_run() (std_thread.h:211)
==14750==    by 0x4A11CA3: execute_native_thread_routine (thread.cc:82)
==14750==    by 0x484BC5A: vgDrd_thread_wrapper (drd_pthread_intercepts.c:491)
==14750==    by 0x49202A4: start_thread (pthread_create.c:481)
==14750== mutex 0x56c5bc8 was first observed at:
==14750==    at 0x48522B8: pthread_mutex_lock_intercept (drd_pthread_intercepts.c:932)
==14750==    by 0x48522B8: pthread_mutex_lock (drd_pthread_intercepts.c:945)
==14750==    by 0x40798B: __gthread_mutex_lock(pthread_mutex_t*) (gthr-default.h:749)
==14750==    by 0x4081F1: std::mutex::lock() (std_mutex.h:100)
==14750==    by 0x40B2FA: std::unique_lock<std::mutex>::lock() (unique_lock.h:139)
==14750==    by 0x40A0DE: std::unique_lock<std::mutex>::unique_lock(std::mutex&) (unique_lock.h:69)
==14750==    by 0x41BEFA: RType::Server::ThreadPool::ThreadMain() (ThreadPool.cpp:38)
==14750==    by 0x41E4E9: void std::__invoke_impl<void, void (RType::Server::ThreadPool::*)(), RType::Server::ThreadPool*>(std::__invoke_memfun_deref, void (RType::Server::ThreadPool::*&&)(), RType::Server::ThreadPool*&&) (invoke.h:74)
==14750==    by 0x41E448: std::__invoke_result<void (RType::Server::ThreadPool::*)(), RType::Server::ThreadPool*>::type std::__invoke<void (RType::Server::ThreadPool::*)(), RType::Server::ThreadPool*>(void (RType::Server::ThreadPool::*&&)(), RType::Server::ThreadPool*&&) (invoke.h:96)
==14750==    by 0x41E3B8: void std::thread::_Invoker<std::tuple<void (RType::Server::ThreadPool::*)(), RType::Server::ThreadPool*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) (std_thread.h:253)
==14750==    by 0x41E371: std::thread::_Invoker<std::tuple<void (RType::Server::ThreadPool::*)(), RType::Server::ThreadPool*> >::operator()() (std_thread.h:260)
==14750==    by 0x41E355: std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (RType::Server::ThreadPool::*)(), RType::Server::ThreadPool*> > >::_M_run() (std_thread.h:211)
==14750==    by 0x4A11CA3: execute_native_thread_routine (thread.cc:82)
==14750== 
==14750== 
==14750== For lists of detected and suppressed errors, rerun with: -s
==14750== ERROR SUMMARY: 560 errors from 21 contexts (suppressed: 46 from 32)
